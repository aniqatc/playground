(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[772],{22290:(t,e,n)=>{"use strict";n(10760),t.exports.Parser=n(99015),t.exports.nodeTypes=n(52371)},10760:(t,e,n)=>{var r=n(19088),o={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},i={",":!0,"(":!0,")":!0,"[":!0,"]":!0,";":!0,"~":!0,"!":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0,"^":!0,"**":!0,"|":!0,"&":!0,"^|":!0,"=":!0,":":!0,"?":!0,"||":!0,"&&":!0,xor:!0,"==":!0,"!=":!0,"===":!0,"!==":!0,"<":!0,">":!0,">=":!0,"<=":!0,">>>":!0,"<<":!0,">>":!0};function s(t){return t>="0"&&t<="9"}function a(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"$"===t||"_"===t}function u(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||"Â "===t}function c(t){return i[t]}function f(t){return"'"===t||'"'===t}function p(){}p.prototype.throwError=function(t,e){e=void 0===e?this.index:e;var n=new Error(t+" at index "+e);throw n.index=e,n.description=t,n},p.prototype.lex=function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){for(;u(this.peek());)this.consume();var e=this.peek(),n=e+this.peek(1),o=n+this.peek(2);c(o)?(this.tokens.push({type:r.DELIMITER,value:o}),this.consume(),this.consume(),this.consume()):c(n)?(this.tokens.push({type:r.DELIMITER,value:n}),this.consume(),this.consume()):c(e)?(this.tokens.push({type:r.DELIMITER,value:e}),this.consume()):s(e)||"."===e&&s(this.peek(1))?this.tokens.push({type:r.NUMBER,value:this.readNumber()}):f(e)?this.tokens.push({type:r.STRING,value:this.readString()}):a(e)?this.tokens.push({type:r.SYMBOL,value:this.readIdentifier()}):this.throwError("unexpected character "+e)}return this.tokens.push({type:r.EOF}),this.tokens},p.prototype.peek=function(t){if(t=t||0,!(this.index+t>=this.text.length))return this.text.charAt(this.index+t)},p.prototype.consume=function(){var t=this.peek();return this.index+=1,t},p.prototype.readNumber=function(){var t="";if("."===this.peek())t+=this.consume(),s(this.peek())||this.throwError("number expected");else{for(;s(this.peek());)t+=this.consume();"."===this.peek()&&(t+=this.consume())}for(;s(this.peek());)t+=this.consume();if("e"===this.peek()||"E"===this.peek())for(t+=this.consume(),s(this.peek())||"+"===this.peek()||"-"===this.peek()||this.throwError(),"+"!==this.peek()&&"-"!==this.peek()||(t+=this.consume()),s(this.peek())||this.throwError("number expected");s(this.peek());)t+=this.consume();return t},p.prototype.readIdentifier=function(){for(var t="";a(this.peek())||s(this.peek());)t+=this.consume();return t},p.prototype.readString=function(){for(var t,e=this.consume(),n="";;){var r=this.consume();if(r||this.throwError("string is not closed"),t){if("u"===r){var i=this.text.substring(this.index+1,this.index+5);i.match(/[\da-f]{4}/i)||this.throwError("invalid unicode escape"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))}else{var s=o[r];n+=s||r}t=!1}else{if(r===e)break;"\\"===r?t=!0:n+=r}}return n},t.exports=p},99015:(t,e,n)=>{var r=n(19088),o=n(10760),i=n(90487),s=n(88867),a=n(21828),u=n(73303),c=n(9659),f=n(56574),p=n(36819),h=n(37370),l=n(85738);function y(){this.lexer=new o,this.tokens=null}y.prototype.current=function(){return this.tokens[0]},y.prototype.next=function(){return this.tokens[1]},y.prototype.peek=function(){if(this.tokens.length)for(var t=this.tokens[0],e=0;e<arguments.length;e+=1)if(t.value===arguments[e])return!0},y.prototype.consume=function(t){return this.tokens.shift()},y.prototype.expect=function(t){if(!this.peek(t))throw Error("expected "+t);return this.consume()},y.prototype.isEOF=function(){return this.current().type===r.EOF},y.prototype.parse=function(t){return this.tokens=this.lexer.lex(t),this.program()},y.prototype.program=function(){for(var t=[];!this.isEOF();)t.push(this.assignment()),this.peek(";")&&this.consume();return this.end(),new l(t)},y.prototype.assignment=function(){var t=this.ternary();return t instanceof u&&this.peek("=")?(this.consume(),new h(t.name,this.assignment())):t},y.prototype.ternary=function(){var t=this.logicalOR();if(this.peek("?")){this.consume();var e=this.ternary();this.expect(":");var n=this.ternary();return new p(t,e,n)}return t},y.prototype.logicalOR=function(){var t=this.logicalXOR();if(this.peek("||")){var e=this.consume(),n=this.logicalOR();return new s(e.value,[t,n])}return t},y.prototype.logicalXOR=function(){var t=this.logicalAND();if("xor"===this.current().value){var e=this.consume(),n=this.logicalXOR();return new s(e.value,[t,n])}return t},y.prototype.logicalAND=function(){var t=this.bitwiseOR();if(this.peek("&&")){var e=this.consume(),n=this.logicalAND();return new s(e.value,[t,n])}return t},y.prototype.bitwiseOR=function(){var t=this.bitwiseXOR();if(this.peek("|")){var e=this.consume(),n=this.bitwiseOR();return new s(e.value,[t,n])}return t},y.prototype.bitwiseXOR=function(){var t=this.bitwiseAND();if(this.peek("^|")){var e=this.consume(),n=this.bitwiseXOR();return new s(e.value,[t,n])}return t},y.prototype.bitwiseAND=function(){var t=this.relational();if(this.peek("&")){var e=this.consume(),n=this.bitwiseAND();return new s(e.value,[t,n])}return t},y.prototype.relational=function(){var t=this.shift();if(this.peek("==","===","!=","!==",">=","<=",">","<")){var e=this.consume(),n=this.shift();return new s(e.value,[t,n])}return t},y.prototype.shift=function(){var t=this.additive();if(this.peek(">>","<<",">>>")){var e=this.consume(),n=this.shift();return new s(e.value,[t,n])}return t},y.prototype.additive=function(){for(var t=this.multiplicative();this.peek("+","-");){var e=this.consume();t=new s(e.value,[t,this.multiplicative()])}return t},y.prototype.multiplicative=function(){for(var t,e,n=this.unary();this.peek("*","/","%");)t=this.consume(),n=new s(t.value,[n,this.unary()]);return this.current().type===r.SYMBOL||this.peek("(")||!(n.type instanceof i)&&this.current().type===r.NUMBER?(e=this.multiplicative(),new s("*",[n,e])):n},y.prototype.unary=function(){if(this.peek("-","+","~")){var t=this.consume(),e=this.unary();return new a(t.value,e)}return this.pow()},y.prototype.pow=function(){var t=this.factorial();if(this.peek("^","**")){var e=this.consume(),n=this.unary();return new s(e.value,[t,n])}return t},y.prototype.factorial=function(){var t=this.symbol();if(this.peek("!")){var e=this.consume();return new s(e.value,[t])}return t},y.prototype.symbol=function(){if(this.current().type===r.SYMBOL){var t=this.consume();return this.functionCall(t)}return this.string()},y.prototype.functionCall=function(t){var e=t.value;if(this.peek("(")){this.consume();for(var n=[];!this.peek(")")&&!this.isEOF();)n.push(this.assignment()),this.peek(",")&&this.consume();return this.expect(")"),new c(e,n)}return new u(e)},y.prototype.string=function(){return this.current().type===r.STRING?new i(this.consume().value,"string"):this.array()},y.prototype.array=function(){if(this.peek("[")){this.consume();for(var t=[];!this.peek("]")&&!this.isEOF();)t.push(this.assignment()),this.peek(",")&&this.consume();return this.expect("]"),new f(t)}return this.number()},y.prototype.number=function(){return this.current().type===r.NUMBER?new i(this.consume().value,"number"):this.parentheses()},y.prototype.parentheses=function(){if("("===this.current().value){this.consume();var t=this.assignment();return this.expect(")"),t}return this.end()},y.prototype.end=function(){if(this.current().type!==r.EOF)throw Error("unexpected end of expression")},t.exports=y},56574:(t,e,n)=>{var r=n(47315);function o(t){this.nodes=t}o.prototype=Object.create(r.prototype),o.prototype.type="ArrayNode",t.exports=o},37370:(t,e,n)=>{var r=n(47315);function o(t,e){this.name=t,this.expr=e}o.prototype=Object.create(r.prototype),o.prototype.type="AssignmentNode",t.exports=o},85738:(t,e,n)=>{var r=n(47315);function o(t){this.blocks=t}o.prototype=Object.create(r.prototype),o.prototype.type="BlockNode",t.exports=o},36819:(t,e,n)=>{var r=n(47315);function o(t,e,n){this.condition=t,this.trueExpr=e,this.falseExpr=n}o.prototype=Object.create(r.prototype),o.prototype.type="ConditionalNode",t.exports=o},90487:(t,e,n)=>{var r=n(47315),o={number:!0,string:!0,boolean:!0,undefined:!0,null:!0};function i(t,e){if(!o[e])throw Error("unsupported type '"+e+"'");this.value=t,this.valueType=e}i.prototype=Object.create(r.prototype),i.prototype.type="ConstantNode",t.exports=i},9659:(t,e,n)=>{var r=n(47315);function o(t,e){this.name=t,this.args=e}o.prototype=Object.create(r.prototype),o.prototype.type="FunctionNode",t.exports=o},47315:t=>{function e(){}e.prototype.type="Node",t.exports=e},88867:(t,e,n)=>{var r=n(47315);function o(t,e){this.op=t,this.args=e||[]}o.prototype=Object.create(r.prototype),o.prototype.type="OperatorNode",t.exports=o},73303:(t,e,n)=>{var r=n(47315);function o(t){this.name=t}o.prototype=Object.create(r.prototype),o.prototype.type="SymbolNode",t.exports=o},21828:(t,e,n)=>{var r=n(47315);function o(t,e){this.op=t,this.argument=e}o.prototype=Object.create(r.prototype),o.prototype.type="UnaryNode",t.exports=o},52371:(t,e,n)=>{t.exports={ArrayNode:n(56574),AssignmentNode:n(37370),BlockNode:n(85738),ConditionalNode:n(36819),ConstantNode:n(90487),FunctionNode:n(9659),Node:n(47315),OperatorNode:n(88867),SymbolNode:n(73303),UnaryNode:n(21828)}},19088:t=>{t.exports={EOF:0,DELIMITER:1,NUMBER:2,STRING:3,SYMBOL:4}},47176:(t,e,n)=>{"use strict";var r=n(88778),o=Math.pow(2,-1074),i=-1>>>0;t.exports=function(t,e){if(isNaN(t)||isNaN(e))return NaN;if(t===e)return t;if(0===t)return e<0?-o:o;var n=r.hi(t),s=r.lo(t);e>t==t>0?s===i?(n+=1,s=0):s+=1:0===s?(s=i,n-=1):s-=1;return r.pack(s,n)}},7391:(t,e,n)=>{var r=n(7180),o=n(43181),i=n(43031),s=n(9067),a=n(96833),u=n(43717),c=n(74801);c.alea=r,c.xor128=o,c.xorwow=i,c.xorshift7=s,c.xor4096=a,c.tychei=u,t.exports=c},7180:function(t,e,n){var r;!function(t,o){function i(t){var e=this,n=function(){var t=4022871197,e=function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)};return e}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var n=new i(t),r=e&&e.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(e,n,e,o))||(o.exports=r):this.alea=a}(0,t=n.nmd(t),n.amdD)},43717:function(t,e,n){var r;!function(t,o){function i(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,o=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^o,e.a=o-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(e,n,e,o))||(o.exports=r):this.tychei=a}(0,t=n.nmd(t),n.amdD)},43181:function(t,e,n){var r;!function(t,o){function i(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(e,n,e,o))||(o.exports=r):this.xor128=a}(0,t=n.nmd(t),n.amdD)},96833:function(t,e,n){var r;!function(t,o){function i(t){var e=this;e.next=function(){var t,n,r=e.w,o=e.X,i=e.i;return e.w=r=r+1640531527|0,n=o[i+34&127],t=o[i=i+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=o[i]=n^t,e.i=i,n+(r^r>>>16)|0},function(t,e){var n,r,o,i,s,a=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),o=0,i=-32;i<u;++i)e&&(r^=e.charCodeAt((i+32)%e.length)),0===i&&(s=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(s=s+1640531527|0,o=0==(n=a[127&i]^=r+s)?o+1:0);for(o>=128&&(a[127&(e&&e.length||0)]=-1),o=127,i=512;i>0;--i)r=a[o+34&127],n=a[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,a[o]=r^n;t.w=s,t.X=a,t.i=o}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.X&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(e,n,e,o))||(o.exports=r):this.xor4096=a}(0,t=n.nmd(t),n.amdD)},9067:function(t,e,n){var r;!function(t,o){function i(t){var e=this;e.next=function(){var t,n,r=e.x,o=e.i;return t=r[o],n=(t^=t>>>7)^t<<24,n^=(t=r[o+1&7])^t>>>10,n^=(t=r[o+3&7])^t>>>3,n^=(t=r[o+4&7])^t<<7,t=r[o+7&7],n^=(t^=t<<13)^t<<9,r[o]=n,e.i=o+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&(r.x&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(e,n,e,o))||(o.exports=r):this.xorshift7=a}(0,t=n.nmd(t),n.amdD)},43031:function(t,e,n){var r;!function(t,o){function i(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var n=new i(t),r=e&&e.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=a:n.amdD&&n.amdO?void 0===(r=function(){return a}.call(e,n,e,o))||(o.exports=r):this.xorwow=a}(0,t=n.nmd(t),n.amdD)},74801:function(t,e,n){var r;!function(o,i,s){var a,u=256,c=s.pow(u,6),f=s.pow(2,52),p=2*f,h=255;function l(t,e,n){var r=[],h=g(d((e=1==e?{entropy:!0}:e||{}).entropy?[t,v(i)]:null==t?function(){try{var t;return a&&(t=a.randomBytes)?t=t(u):(t=new Uint8Array(u),(o.crypto||o.msCrypto).getRandomValues(t)),v(t)}catch(t){var e=o.navigator,n=e&&e.plugins;return[+new Date,o,n,o.screen,v(i)]}}():t,3),r),l=new y(r),x=function(){for(var t=l.g(6),e=c,n=0;t<f;)t=(t+n)*u,e*=u,n=l.g(1);for(;t>=p;)t/=2,e/=2,n>>>=1;return(t+n)/e};return x.int32=function(){return 0|l.g(4)},x.quick=function(){return l.g(4)/4294967296},x.double=x,g(v(l.S),i),(e.pass||n||function(t,e,n,r){return r&&(r.S&&m(r,l),t.state=function(){return m(l,{})}),n?(s.random=t,e):t})(x,h,"global"in e?e.global:this==s,e.state)}function y(t){var e,n=t.length,r=this,o=0,i=r.i=r.j=0,s=r.S=[];for(n||(t=[n++]);o<u;)s[o]=o++;for(o=0;o<u;o++)s[o]=s[i=h&i+t[o%n]+(e=s[o])],s[i]=e;(r.g=function(t){for(var e,n=0,o=r.i,i=r.j,s=r.S;t--;)e=s[o=h&o+1],n=n*u+s[h&(s[o]=s[i=h&i+e])+(s[i]=e)];return r.i=o,r.j=i,n})(u)}function m(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function d(t,e){var n,r=[],o=typeof t;if(e&&"object"==o)for(n in t)try{r.push(d(t[n],e-1))}catch(t){}return r.length?r:"string"==o?t:t+"\0"}function g(t,e){for(var n,r=t+"",o=0;o<r.length;)e[h&o]=h&(n^=19*e[h&o])+r.charCodeAt(o++);return v(e)}function v(t){return String.fromCharCode.apply(0,t)}if(g(s.random(),i),t.exports){t.exports=l;try{a=n(41234)}catch(t){}}else void 0===(r=function(){return l}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:this,[],Math)},33829:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function s(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));function u(t,e=0){return a[t[e+0]]+a[t[e+1]]+a[t[e+2]]+a[t[e+3]]+"-"+a[t[e+4]]+a[t[e+5]]+"-"+a[t[e+6]]+a[t[e+7]]+"-"+a[t[e+8]]+a[t[e+9]]+"-"+a[t[e+10]]+a[t[e+11]]+a[t[e+12]]+a[t[e+13]]+a[t[e+14]]+a[t[e+15]]}const c=function(t,e,n){if(r.randomUUID&&!e&&!t)return r.randomUUID();const o=(t=t||{}).random||(t.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=o[t];return e}return u(o)}},62369:function(t){t.exports=function(){"use strict";function t(){return!0}function e(){return!1}function n(){}const r="Argument is not a typed-function.";function o(){function i(t){return"object"==typeof t&&null!==t&&t.constructor===Object}const s=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:i},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],a={name:"any",test:t,isAny:!0};let u,c,f=0,p={createCount:0};function h(t){const e=u.get(t);if(e)return e;let n='Unknown type "'+t+'"';const r=t.toLowerCase();let o;for(o of c)if(o.toLowerCase()===r){n+='. Did you mean "'+o+'" ?';break}throw new TypeError(n)}function l(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const n=e?h(e).index:c.length,r=[];for(let e=0;e<t.length;++e){if(!t[e]||"string"!=typeof t[e].name||"function"!=typeof t[e].test)throw new TypeError("Object with properties {name: string, test: function} expected");const o=t[e].name;if(u.has(o))throw new TypeError('Duplicate type name "'+o+'"');r.push(o),u.set(o,{name:o,test:t[e].test,isAny:t[e].isAny,index:n+e,conversionsTo:[]})}const o=c.slice(n);c=c.slice(0,n).concat(r).concat(o);for(let t=n+r.length;t<c.length;++t)u.get(c[t]).index=t}function y(){u=new Map,c=[],f=0,l([a],!1)}function m(){let t;for(t of c)u.get(t).conversionsTo=[];f=0}function d(t){const e=c.filter((e=>{const n=u.get(e);return!n.isAny&&n.test(t)}));return e.length?e:["any"]}function g(t){return t&&"function"==typeof t&&"_typedFunctionData"in t}function v(t,e,n){if(!g(t))throw new TypeError(r);const o=n&&n.exact,i=A(Array.isArray(e)?e.join(","):e),s=b(i);if(!o||s in t.signatures){const e=t._typedFunctionData.signatureMap.get(s);if(e)return e}const a=i.length;let u,c;if(o){let e;for(e in u=[],t.signatures)u.push(t._typedFunctionData.signatureMap.get(e))}else u=t._typedFunctionData.signatures;for(let t=0;t<a;++t){const e=i[t],n=[];let r;for(r of u){const o=j(r.params,t);if(o&&(!e.restParam||o.restParam)){if(!o.hasAny){const t=T(o);if(e.types.some((e=>!t.has(e.name))))continue}n.push(r)}}if(u=n,0===u.length)break}for(c of u)if(c.params.length<=a)return c;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+b(i,", ")+"))")}function x(t,e,n){return v(t,e,n).implementation}function w(t,e){const n=h(e);if(n.test(t))return t;const r=n.conversionsTo;if(0===r.length)throw new Error("There are no conversions to "+e+" defined.");for(let e=0;e<r.length;e++)if(h(r[e].from).test(t))return r[e].convert(t);throw new Error("Cannot convert "+t+" to "+e)}function b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return t.map((t=>t.name)).join(e)}function k(t){const e=0===t.indexOf("..."),n=(e?t.length>3?t.slice(3):"any":t).split("|").map((t=>h(t.trim())));let r=!1,o=e?"...":"";return{types:n.map((function(t){return r=t.isAny||r,o+=t.name+"|",{name:t.name,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:null,conversionIndex:-1}})),name:o.slice(0,-1),hasAny:r,hasConversion:!1,restParam:e}}function E(t){const e=z(t.types.map((t=>t.name)));let n=t.hasAny,r=t.name;const o=e.map((function(t){const e=h(t.from);return n=e.isAny||n,r+="|"+t.from,{name:t.from,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:t,conversionIndex:t.index}}));return{types:t.types.concat(o),name:r,hasAny:n,hasConversion:o.length>0,restParam:t.restParam}}function T(t){return t.typeSet||(t.typeSet=new Set,t.types.forEach((e=>t.typeSet.add(e.name)))),t.typeSet}function A(t){const e=[];if("string"!=typeof t)throw new TypeError("Signatures must be strings");const n=t.trim();if(""===n)return e;const r=n.split(",");for(let t=0;t<r.length;++t){const n=k(r[t].trim());if(n.restParam&&t!==r.length-1)throw new SyntaxError('Unexpected rest parameter "'+r[t]+'": only allowed for the last parameter');if(0===n.types.length)return null;e.push(n)}return e}function O(t){const e=J(t);return!!e&&e.restParam}function C(e){if(e&&0!==e.types.length){if(1===e.types.length)return h(e.types[0].name).test;if(2===e.types.length){const t=h(e.types[0].name).test,n=h(e.types[1].name).test;return function(e){return t(e)||n(e)}}{const t=e.types.map((function(t){return h(t.name).test}));return function(e){for(let n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}}return t}function S(t){let e,n,r;if(O(t)){e=H(t).map(C);const n=e.length,r=C(J(t)),o=function(t){for(let e=n;e<t.length;e++)if(!r(t[e]))return!1;return!0};return function(t){for(let n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return o(t)&&t.length>=n+1}}return 0===t.length?function(t){return 0===t.length}:1===t.length?(n=C(t[0]),function(t){return n(t[0])&&1===t.length}):2===t.length?(n=C(t[0]),r=C(t[1]),function(t){return n(t[0])&&r(t[1])&&2===t.length}):(e=t.map(C),function(t){for(let n=0;n<e.length;n++)if(!e[n](t[n]))return!1;return t.length===e.length})}function j(t,e){return e<t.length?t[e]:O(t)?J(t):null}function N(t,e){const n=j(t,e);return n?T(n):new Set}function D(t){return null===t.conversion||void 0===t.conversion}function M(t,e){const n=new Set;return t.forEach((t=>{const r=N(t.params,e);let o;for(o of r)n.add(o)})),n.has("any")?["any"]:Array.from(n)}function R(t,e,n){let r,o;const i=t||"unnamed";let s,a=n;for(s=0;s<e.length;s++){const t=[];if(a.forEach((n=>{const r=C(j(n.params,s));(s<n.params.length||O(n.params))&&r(e[s])&&t.push(n)})),0===t.length){if(o=M(a,s),o.length>0){const t=d(e[s]);return r=new TypeError("Unexpected type of argument in function "+i+" (expected: "+o.join(" or ")+", actual: "+t.join(" | ")+", index: "+s+")"),r.data={category:"wrongType",fn:i,index:s,actual:t,expected:o},r}}else a=t}const u=a.map((function(t){return O(t.params)?1/0:t.params.length}));if(e.length<Math.min.apply(null,u))return o=M(a,s),r=new TypeError("Too few arguments in function "+i+" (expected: "+o.join(" or ")+", index: "+e.length+")"),r.data={category:"tooFewArgs",fn:i,index:e.length,expected:o},r;const c=Math.max.apply(null,u);if(e.length>c)return r=new TypeError("Too many arguments in function "+i+" (expected: "+c+", actual: "+e.length+")"),r.data={category:"tooManyArgs",fn:i,index:e.length,expectedLength:c},r;const f=[];for(let t=0;t<e.length;++t)f.push(d(e[t]).join("|"));return r=new TypeError('Arguments of type "'+f.join(", ")+'" do not match any of the defined signatures of function '+i+"."),r.data={category:"mismatch",actual:f},r}function I(t){let e=c.length+1;for(let n=0;n<t.types.length;n++)D(t.types[n])&&(e=Math.min(e,t.types[n].typeIndex));return e}function U(t){let e=f+1;for(let n=0;n<t.types.length;n++)D(t.types[n])||(e=Math.min(e,t.types[n].conversionIndex));return e}function F(t,e){if(t.hasAny){if(!e.hasAny)return 1}else if(e.hasAny)return-1;if(t.restParam){if(!e.restParam)return 1}else if(e.restParam)return-1;if(t.hasConversion){if(!e.hasConversion)return 1}else if(e.hasConversion)return-1;const n=I(t)-I(e);if(n<0)return-1;if(n>0)return 1;const r=U(t)-U(e);return r<0?-1:r>0?1:0}function P(t,e){const n=t.params,r=e.params,o=J(n),i=J(r),s=O(n),a=O(r);if(s&&o.hasAny){if(!a||!i.hasAny)return 1}else if(a&&i.hasAny)return-1;let u,c=0,f=0;for(u of n)u.hasAny&&++c,u.hasConversion&&++f;let p=0,h=0;for(u of r)u.hasAny&&++p,u.hasConversion&&++h;if(c!==p)return c-p;if(s&&o.hasConversion){if(!a||!i.hasConversion)return 1}else if(a&&i.hasConversion)return-1;if(f!==h)return f-h;if(s){if(!a)return 1}else if(a)return-1;const l=(n.length-r.length)*(s?-1:1);if(0!==l)return l;const y=[];let m,d=0;for(let t=0;t<n.length;++t){const e=F(n[t],r[t]);y.push(e),d+=e}if(0!==d)return d;for(m of y)if(0!==m)return m;return 0}function z(t){if(0===t.length)return[];const e=t.map(h);t.length>1&&e.sort(((t,e)=>t.index-e.index));let n=e[0].conversionsTo;if(1===t.length)return n;n=n.concat([]);const r=new Set(t);for(let t=1;t<e.length;++t){let o;for(o of e[t].conversionsTo)r.has(o.from)||(n.push(o),r.add(o.from))}return n}function B(t,e){let n=e;if(t.some((t=>t.hasConversion))){const r=O(t),o=t.map(L);n=function(){const t=[],n=r?arguments.length-1:arguments.length;for(let e=0;e<n;e++)t[e]=o[e](arguments[e]);return r&&(t[n]=arguments[n].map(o[n])),e.apply(this,t)}}let r=n;if(O(t)){const e=t.length-1;r=function(){return n.apply(this,K(arguments,0,e).concat([K(arguments,e)]))}}return r}function L(t){let e,n,r,o;const i=[],s=[];switch(t.types.forEach((function(t){t.conversion&&(i.push(h(t.conversion.from).test),s.push(t.conversion.convert))})),s.length){case 0:return function(t){return t};case 1:return e=i[0],r=s[0],function(t){return e(t)?r(t):t};case 2:return e=i[0],n=i[1],r=s[0],o=s[1],function(t){return e(t)?r(t):n(t)?o(t):t};default:return function(t){for(let e=0;e<s.length;e++)if(i[e](t))return s[e](t);return t}}}function X(t){function e(t,n,r){if(n<t.length){const o=t[n];let i=[];if(o.restParam){const t=o.types.filter(D);t.length<o.types.length&&i.push({types:t,name:"..."+t.map((t=>t.name)).join("|"),hasAny:t.some((t=>t.isAny)),hasConversion:!1,restParam:!0}),i.push(o)}else i=o.types.map((function(t){return{types:[t],name:t.name,hasAny:t.isAny,hasConversion:t.conversion,restParam:!1}}));return W(i,(function(o){return e(t,n+1,r.concat([o]))}))}return[r]}return e(t,0,[])}function _(t,e){const n=Math.max(t.length,e.length);for(let r=0;r<n;r++){const n=N(t,r),o=N(e,r);let i,s=!1;for(i of o)if(n.has(i)){s=!0;break}if(!s)return!1}const r=t.length,o=e.length,i=O(t),s=O(e);return i?s?r===o:o>=r:s?r>=o:r===o}function q(t){return t.map((t=>ot(t)?nt(t.referToSelf.callback):rt(t)?et(t.referTo.references,t.referTo.callback):t))}function V(t,e,n){const r=[];let o;for(o of t){let t=n[o];if("number"!=typeof t)throw new TypeError('No definition for referenced signature "'+o+'"');if(t=e[t],"function"!=typeof t)return!1;r.push(t)}return r}function Y(t,e,n){const r=q(t),o=new Array(r.length).fill(!1);let i=!0;for(;i;){i=!1;let t=!0;for(let s=0;s<r.length;++s){if(o[s])continue;const a=r[s];if(ot(a))r[s]=a.referToSelf.callback(n),r[s].referToSelf=a.referToSelf,o[s]=!0,t=!1;else if(rt(a)){const n=V(a.referTo.references,r,e);n?(r[s]=a.referTo.callback.apply(this,n),r[s].referTo=a.referTo,o[s]=!0,t=!1):i=!0}}if(t&&i)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return r}function G(t){const e=/\bthis(\(|\.signatures\b)/;Object.keys(t).forEach((n=>{const r=t[n];if(e.test(r.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")}))}function Z(t,r){if(p.createCount++,0===Object.keys(r).length)throw new SyntaxError("No signatures provided");p.warnAgainstDeprecatedThis&&G(r);const o=[],i=[],s={},a=[];let u;for(u in r){if(!Object.prototype.hasOwnProperty.call(r,u))continue;const t=A(u);if(!t)continue;o.forEach((function(e){if(_(e,t))throw new TypeError('Conflicting signatures "'+b(e)+'" and "'+b(t)+'".')})),o.push(t);const e=i.length;i.push(r[u]);const n=t.map(E);let c;for(c of X(n)){const t=b(c);a.push({params:c,name:t,fn:e}),c.every((t=>!t.hasConversion))&&(s[t]=e)}}a.sort(P);const c=Y(i,s,ut);let f;for(f in s)Object.prototype.hasOwnProperty.call(s,f)&&(s[f]=c[s[f]]);const h=[],l=new Map;for(f of a)l.has(f.name)||(f.fn=c[f.fn],h.push(f),l.set(f.name,f));const y=h[0]&&h[0].params.length<=2&&!O(h[0].params),m=h[1]&&h[1].params.length<=2&&!O(h[1].params),d=h[2]&&h[2].params.length<=2&&!O(h[2].params),g=h[3]&&h[3].params.length<=2&&!O(h[3].params),v=h[4]&&h[4].params.length<=2&&!O(h[4].params),x=h[5]&&h[5].params.length<=2&&!O(h[5].params),w=y&&m&&d&&g&&v&&x;for(let t=0;t<h.length;++t)h[t].test=S(h[t].params);const k=y?C(h[0].params[0]):e,T=m?C(h[1].params[0]):e,j=d?C(h[2].params[0]):e,N=g?C(h[3].params[0]):e,D=v?C(h[4].params[0]):e,M=x?C(h[5].params[0]):e,R=y?C(h[0].params[1]):e,I=m?C(h[1].params[1]):e,U=d?C(h[2].params[1]):e,F=g?C(h[3].params[1]):e,z=v?C(h[4].params[1]):e,L=x?C(h[5].params[1]):e;for(let t=0;t<h.length;++t)h[t].implementation=B(h[t].params,h[t].fn);const q=y?h[0].implementation:n,V=m?h[1].implementation:n,Z=d?h[2].implementation:n,$=g?h[3].implementation:n,H=v?h[4].implementation:n,J=x?h[5].implementation:n,K=y?h[0].params.length:-1,Q=m?h[1].params.length:-1,W=d?h[2].params.length:-1,tt=g?h[3].params.length:-1,et=v?h[4].params.length:-1,nt=x?h[5].params.length:-1,rt=w?6:0,ot=h.length,it=h.map((t=>t.test)),st=h.map((t=>t.implementation)),at=function(){for(let t=rt;t<ot;t++)if(it[t](arguments))return st[t].apply(this,arguments);return p.onMismatch(t,arguments,h)};function ut(t,e){return arguments.length===K&&k(t)&&R(e)?q.apply(this,arguments):arguments.length===Q&&T(t)&&I(e)?V.apply(this,arguments):arguments.length===W&&j(t)&&U(e)?Z.apply(this,arguments):arguments.length===tt&&N(t)&&F(e)?$.apply(this,arguments):arguments.length===et&&D(t)&&z(e)?H.apply(this,arguments):arguments.length===nt&&M(t)&&L(e)?J.apply(this,arguments):at.apply(this,arguments)}try{Object.defineProperty(ut,"name",{value:t})}catch(t){}return ut.signatures=s,ut._typedFunctionData={signatures:h,signatureMap:l},ut}function $(t,e,n){throw R(t,e,n)}function H(t){return K(t,0,t.length-1)}function J(t){return t[t.length-1]}function K(t,e,n){return Array.prototype.slice.call(t,e,n)}function Q(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return t[n]}function W(t,e){return Array.prototype.concat.apply([],t.map(e))}function tt(){const t=H(arguments).map((t=>b(A(t)))),e=J(arguments);if("function"!=typeof e)throw new TypeError("Callback function expected as last argument");return et(t,e)}function et(t,e){return{referTo:{references:t,callback:e}}}function nt(t){if("function"!=typeof t)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:t}}}function rt(t){return t&&"object"==typeof t.referTo&&Array.isArray(t.referTo.references)&&"function"==typeof t.referTo.callback}function ot(t){return t&&"object"==typeof t.referToSelf&&"function"==typeof t.referToSelf.callback}function it(t,e){if(!t)return e;if(e&&e!==t){const n=new Error("Function names do not match (expected: "+t+", actual: "+e+")");throw n.data={actual:e,expected:t},n}return t}function st(t){let e;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(g(t[n])||"string"==typeof t[n].signature)&&(e=it(e,t[n].name));return e}function at(t,e){let n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(n in t&&e[n]!==t[n]){const r=new Error('Signature "'+n+'" is defined twice');throw r.data={signature:n,sourceFunction:e[n],destFunction:t[n]},r}t[n]=e[n]}}y(),l(s);const ut=p;function ct(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(t.to===t.from)throw new SyntaxError('Illegal to define conversion from "'+t.from+'" to itself.')}return p=function(t){const e="string"==typeof t;let n=e?t:"";const r={};for(let t=e?1:0;t<arguments.length;++t){const o=arguments[t];let s,a={};if("function"==typeof o?(s=o.name,"string"==typeof o.signature?a[o.signature]=o:g(o)&&(a=o.signatures)):i(o)&&(a=o,e||(s=st(o))),0===Object.keys(a).length){const e=new TypeError("Argument to 'typed' at index "+t+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw e.data={index:t,argument:o},e}e||(n=it(n,s)),at(r,a)}return Z(n||"",r)},p.create=o,p.createCount=ut.createCount,p.onMismatch=$,p.throwMismatchError=$,p.createError=R,p.clear=y,p.clearConversions=m,p.addTypes=l,p._findType=h,p.referTo=tt,p.referToSelf=nt,p.convert=w,p.findSignature=v,p.find=x,p.isTypedFunction=g,p.warnAgainstDeprecatedThis=!0,p.addType=function(t,e){let n="any";!1!==e&&u.has("Object")&&(n="Object"),p.addTypes([t],n)},p.addConversion=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};ct(t);const n=h(t.to),r=n.conversionsTo.find((e=>e.from===t.from));if(r){if(!e||!e.override)throw new Error('There is already a conversion from "'+t.from+'" to "'+n.name+'"');p.removeConversion({from:r.from,to:t.to,convert:r.convert})}n.conversionsTo.push({from:t.from,convert:t.convert,index:f++})},p.addConversions=function(t,e){t.forEach((t=>p.addConversion(t,e)))},p.removeConversion=function(t){ct(t);const e=h(t.to),n=Q(e.conversionsTo,(e=>e.from===t.from));if(!n)throw new Error("Attempt to remove nonexistent conversion from "+t.from+" to "+t.to);if(n.convert!==t.convert)throw new Error("Conversion to remove does not match existing conversion");const r=e.conversionsTo.indexOf(n);e.conversionsTo.splice(r,1)},p.resolve=function(t,e){if(!g(t))throw new TypeError(r);const n=t._typedFunctionData.signatures;for(let t=0;t<n.length;++t)if(n[t].test(e))return n[t];return null},p}return o()}()}}]);