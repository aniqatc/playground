"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[474],{6534:(t,e,r)=>{r.d(e,{R:()=>n});var n=new Set(["end"])},59126:(t,e,r)=>{r.d(e,{C:()=>u});var n=r(54705),i=r(14943),s=r(99863),o=r(58321),a=r(47985),h="AccessorNode",p=["subset","Node"],u=(0,o.P9)(h,p,(t=>{var{subset:e,Node:r}=t,o=(0,a.T)({subset:e});function p(t){return!((0,i.AS)(t)||(0,i.gO)(t)||(0,i.BA)(t)||(0,i.Px)(t)||(0,i.GJ)(t)||(0,i.tv)(t)||(0,i.li)(t))}class u extends r{constructor(t,e){if(super(),!(0,i.Ll)(t))throw new TypeError('Node expected for parameter "object"');if(!(0,i.$I)(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t,this.index=e}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return h}get isAccessorNode(){return!0}_compile(t,e){var r=this.object._compile(t,e),n=this.index._compile(t,e);if(this.index.isObjectProperty()){var i=this.index.getObjectProperty();return function(t,e,n){return(0,s.HU)(r(t,e,n),i)}}return function(t,e,i){var s=r(t,e,i),a=n(t,e,s);return o(s,a)}}forEach(t){t(this.object,"object",this),t(this.index,"index",this)}map(t){return new u(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))}clone(){return new u(this.object,this.index)}_toString(t){var e=this.object.toString(t);return p(this.object)&&(e="("+e+")"),e+this.index.toString(t)}_toHTML(t){var e=this.object.toHTML(t);return p(this.object)&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+this.index.toHTML(t)}_toTex(t){var e=this.object.toTex(t);return p(this.object)&&(e="\\left(' + object + '\\right)"),e+this.index.toTex(t)}toJSON(){return{mathjs:h,object:this.object,index:this.index}}static fromJSON(t){return new u(t.object,t.index)}}return(0,n.A)(u,"name",h),u}),{isClass:!0,isNode:!0})},41668:(t,e,r)=>{r.d(e,{W:()=>p});var n=r(54705),i=r(14943),s=r(35838),o=r(58321),a="ArrayNode",h=["Node"],p=(0,o.P9)(a,h,(t=>{var{Node:e}=t;class r extends e{constructor(t){if(super(),this.items=t||[],!Array.isArray(this.items)||!this.items.every(i.Ll))throw new TypeError("Array containing Nodes expected")}get type(){return a}get isArrayNode(){return!0}_compile(t,e){var r=(0,s.Tj)(this.items,(function(r){return r._compile(t,e)}));if("Array"!==t.config.matrix){var n=t.matrix;return function(t,e,i){return n((0,s.Tj)(r,(function(r){return r(t,e,i)})))}}return function(t,e,n){return(0,s.Tj)(r,(function(r){return r(t,e,n)}))}}forEach(t){for(var e=0;e<this.items.length;e++){t(this.items[e],"items["+e+"]",this)}}map(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)}clone(){return new r(this.items.slice(0))}_toString(t){return"["+this.items.map((function(e){return e.toString(t)})).join(", ")+"]"}toJSON(){return{mathjs:a,items:this.items}}static fromJSON(t){return new r(t.items)}_toHTML(t){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map((function(e){return e.toHTML(t)})).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(t){return function e(r,n){var s=r.some(i.gO)&&!r.every(i.gO),o=n||s,a=o?"&":"\\\\",h=r.map((function(r){return r.items?e(r.items,!n):r.toTex(t)})).join(a);return s||!o||o&&!n?"\\begin{bmatrix}"+h+"\\end{bmatrix}":h}(this.items,!1)}}return(0,n.A)(r,"name",a),r}),{isClass:!0,isNode:!0})},23876:(t,e,r)=>{r.d(e,{y:()=>l});var n=r(54705),i=r(14943),s=r(99863),o=r(58321),a=r(47985),h=r(79943);var p=r(60261),u="AssignmentNode",c=["subset","?matrix","Node"],l=(0,o.P9)(u,c,(t=>{var{subset:e,matrix:r,Node:o}=t,c=(0,a.T)({subset:e}),l=function(t){var{subset:e,matrix:r}=t;return function(t,n,i){try{if(Array.isArray(t))return r(t).subset(n,i).valueOf().forEach(((e,r)=>{t[r]=e})),t;if(t&&"function"==typeof t.subset)return t.subset(n,i);if("string"==typeof t)return e(t,n,i);if("object"==typeof t){if(!n.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return(0,s.dL)(t,n.getObjectProperty(),i),t}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw(0,h.D)(t)}}}({subset:e,matrix:r});function d(t,e,r){e||(e="keep");var n=(0,p.t$)(t,e,r),i=(0,p.t$)(t.value,e,r);return"all"===e||null!==i&&i<=n}class f extends o{constructor(t,e,r){if(super(),this.object=t,this.index=r?e:null,this.value=r||e,!(0,i.li)(t)&&!(0,i.AS)(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if((0,i.li)(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!(0,i.$I)(this.index))throw new TypeError('IndexNode expected as "index"');if(!(0,i.Ll)(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return u}get isAssignmentNode(){return!0}_compile(t,e){var r=this.object._compile(t,e),n=this.index?this.index._compile(t,e):null,o=this.value._compile(t,e),a=this.object.name;if(this.index){if(this.index.isObjectProperty()){var h=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),a=o(t,e,n);return(0,s.dL)(i,h,a),a}}if((0,i.li)(this.object))return function(t,e,i){var s=r(t,e,i),h=o(t,e,i),p=n(t,e,s);return t.set(a,l(s,p,h)),h};var p=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var u=this.object.index.getObjectProperty();return function(t,e,r){var i=p(t,e,r),a=(0,s.HU)(i,u),h=n(t,e,a),c=o(t,e,r);return(0,s.dL)(i,u,l(a,h,c)),c}}var d=this.object.index._compile(t,e);return function(t,e,r){var i=p(t,e,r),s=d(t,e,i),a=c(i,s),h=n(t,e,a),u=o(t,e,r);return l(i,s,l(a,h,u)),u}}if(!(0,i.li)(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,r){var n=o(t,e,r);return t.set(a,n),n}}forEach(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)}map(t){var e=this._ifNode(t(this.object,"object",this)),r=this.index?this._ifNode(t(this.index,"index",this)):null,n=this._ifNode(t(this.value,"value",this));return new f(e,r,n)}clone(){return new f(this.object,this.index,this.value)}_toString(t){var e=this.object.toString(t),r=this.index?this.index.toString(t):"",n=this.value.toString(t);return d(this,t&&t.parenthesis,t&&t.implicit)&&(n="("+n+")"),e+r+" = "+n}toJSON(){return{mathjs:u,object:this.object,index:this.index,value:this.value}}static fromJSON(t){return new f(t.object,t.index,t.value)}_toHTML(t){var e=this.object.toHTML(t),r=this.index?this.index.toHTML(t):"",n=this.value.toHTML(t);return d(this,t&&t.parenthesis,t&&t.implicit)&&(n='<span class="math-paranthesis math-round-parenthesis">(</span>'+n+'<span class="math-paranthesis math-round-parenthesis">)</span>'),e+r+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+n}_toTex(t){var e=this.object.toTex(t),r=this.index?this.index.toTex(t):"",n=this.value.toTex(t);return d(this,t&&t.parenthesis,t&&t.implicit)&&(n="\\left(".concat(n,"\\right)")),e+r+"="+n}}return(0,n.A)(f,"name",u),f}),{isClass:!0,isNode:!0})},64544:(t,e,r)=>{r.d(e,{E:()=>p});var n=r(54705),i=r(14943),s=r(35838),o=r(58321),a="BlockNode",h=["ResultSet","Node"],p=(0,o.P9)(a,h,(t=>{var{ResultSet:e,Node:r}=t;class o extends r{constructor(t){if(super(),!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map((function(t){var e=t&&t.node,r=!t||void 0===t.visible||t.visible;if(!(0,i.Ll)(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof r)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:r}}))}get type(){return a}get isBlockNode(){return!0}_compile(t,r){var n=(0,s.Tj)(this.blocks,(function(e){return{evaluate:e.node._compile(t,r),visible:e.visible}}));return function(t,r,i){var o=[];return(0,s.jJ)(n,(function(e){var n=e.evaluate(t,r,i);e.visible&&o.push(n)})),new e(o)}}forEach(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)}map(t){for(var e=[],r=0;r<this.blocks.length;r++){var n=this.blocks[r],i=this._ifNode(t(n.node,"blocks["+r+"].node",this));e[r]={node:i,visible:n.visible}}return new o(e)}clone(){var t=this.blocks.map((function(t){return{node:t.node,visible:t.visible}}));return new o(t)}_toString(t){return this.blocks.map((function(e){return e.node.toString(t)+(e.visible?"":";")})).join("\n")}toJSON(){return{mathjs:a,blocks:this.blocks}}static fromJSON(t){return new o(t.blocks)}_toHTML(t){return this.blocks.map((function(e){return e.node.toHTML(t)+(e.visible?"":'<span class="math-separator">;</span>')})).join('<span class="math-separator"><br /></span>')}_toTex(t){return this.blocks.map((function(e){return e.node.toTex(t)+(e.visible?"":";")})).join("\\;\\;\n")}}return(0,n.A)(o,"name",a),o}),{isClass:!0,isNode:!0})},34813:(t,e,r)=>{r.d(e,{h:()=>p});var n=r(54705),i=r(14943),s=r(58321),o=r(60261),a="ConditionalNode",h=["Node"],p=(0,s.P9)(a,h,(t=>{var{Node:e}=t;class r extends e{constructor(t,e,r){if(super(),!(0,i.Ll)(t))throw new TypeError("Parameter condition must be a Node");if(!(0,i.Ll)(e))throw new TypeError("Parameter trueExpr must be a Node");if(!(0,i.Ll)(r))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=r}get type(){return a}get isConditionalNode(){return!0}_compile(t,e){var r=this.condition._compile(t,e),n=this.trueExpr._compile(t,e),s=this.falseExpr._compile(t,e);return function(t,e,o){return function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if((0,i.C4)(t))return!t.isZero();if((0,i.Zd)(t))return!(!t.re&&!t.im);if((0,i.vO)(t))return!!t.value}if(null==t)return!1;throw new TypeError('Unsupported type of condition "'+(0,i.QP)(t)+'"')}(r(t,e,o))?n(t,e,o):s(t,e,o)}}forEach(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)}map(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=(0,o.t$)(this,e,t&&t.implicit),n=this.condition.toString(t),i=(0,o.t$)(this.condition,e,t&&t.implicit);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n="("+n+")");var s=this.trueExpr.toString(t),a=(0,o.t$)(this.trueExpr,e,t&&t.implicit);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s="("+s+")");var h=this.falseExpr.toString(t),p=(0,o.t$)(this.falseExpr,e,t&&t.implicit);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==p&&p<=r)&&(h="("+h+")"),n+" ? "+s+" : "+h}toJSON(){return{mathjs:a,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(t){return new r(t.condition,t.trueExpr,t.falseExpr)}_toHTML(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=(0,o.t$)(this,e,t&&t.implicit),n=this.condition.toHTML(t),i=(0,o.t$)(this.condition,e,t&&t.implicit);("all"===e||"OperatorNode"===this.condition.type||null!==i&&i<=r)&&(n='<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>');var s=this.trueExpr.toHTML(t),a=(0,o.t$)(this.trueExpr,e,t&&t.implicit);("all"===e||"OperatorNode"===this.trueExpr.type||null!==a&&a<=r)&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(t),p=(0,o.t$)(this.falseExpr,e,t&&t.implicit);return("all"===e||"OperatorNode"===this.falseExpr.type||null!==p&&p<=r)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),n+'<span class="math-operator math-conditional-operator">?</span>'+s+'<span class="math-operator math-conditional-operator">:</span>'+h}_toTex(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return(0,n.A)(r,"name",a),r}),{isClass:!0,isNode:!0})},97413:(t,e,r)=>{r.d(e,{b:()=>u});var n=r(54705),i=r(70760),s=r(14943),o=r(64139),a=r(58321),h="ConstantNode",p=["Node"],u=(0,a.P9)(h,p,(t=>{var{Node:e}=t;class r extends e{constructor(t){super(),this.value=t}get type(){return h}get isConstantNode(){return!0}_compile(t,e){var r=this.value;return function(){return r}}forEach(t){}map(t){return this.clone()}clone(){return new r(this.value)}_toString(t){return(0,i.GP)(this.value,t)}_toHTML(t){var e=this._toString(t);switch((0,s.QP)(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}}toJSON(){return{mathjs:h,value:this.value}}static fromJSON(t){return new r(t.value)}_toTex(t){var e=this._toString(t),r=(0,s.QP)(this.value);switch(r){case"string":return"\\mathtt{"+(0,o.MA)(e)+"}";case"number":case"BigNumber":if(!("BigNumber"===r?this.value.isFinite():isFinite(this.value)))return this.value.valueOf()<0?"-\\infty":"\\infty";var n=e.toLowerCase().indexOf("e");return-1!==n?e.substring(0,n)+"\\cdot10^{"+e.substring(n+1)+"}":e;case"bigint":return e.toString();case"Fraction":return this.value.toLatex();default:return e}}}return(0,n.A)(r,"name",h),r}),{isClass:!0,isNode:!0})},61860:(t,e,r)=>{r.d(e,{I:()=>d});var n=r(54705),i=r(14943),s=r(6534),o=r(70760),a=r(35838),h=r(64139),p=r(60261),u=r(58321),c="FunctionAssignmentNode",l=["typed","Node"],d=(0,u.P9)(c,l,(t=>{var{typed:e,Node:r}=t;function u(t,e,r){var n=(0,p.t$)(t,e,r),i=(0,p.t$)(t.expr,e,r);return"all"===e||null!==i&&i<=n}class l extends r{constructor(t,e,r){if(super(),"string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!(0,i.Ll)(r))throw new TypeError('Node expected for parameter "expr"');if(s.R.has(t))throw new Error('Illegal function name, "'+t+'" is a reserved keyword');var n=new Set;for(var o of e){var a="string"==typeof o?o:o.name;if(n.has(a))throw new Error('Duplicate parameter name "'.concat(a,'"'));n.add(a)}this.name=t,this.params=e.map((function(t){return t&&t.name||t})),this.types=e.map((function(t){return t&&t.type||"any"})),this.expr=r}get type(){return c}get isFunctionAssignmentNode(){return!0}_compile(t,r){var n=Object.create(r);(0,a.jJ)(this.params,(function(t){n[t]=!0}));var i=this.expr._compile(t,n),s=this.name,o=this.params,h=(0,a.fj)(this.types,","),p=s+"("+(0,a.fj)(this.params,", ")+")";return function(t,r,n){var a={};a[h]=function(){for(var e=Object.create(r),s=0;s<o.length;s++)e[o[s]]=arguments[s];return i(t,e,n)};var u=e(s,a);return u.syntax=p,t.set(s,u),u}}forEach(t){t(this.expr,"expr",this)}map(t){var e=this._ifNode(t(this.expr,"expr",this));return new l(this.name,this.params.slice(0),e)}clone(){return new l(this.name,this.params.slice(0),this.expr)}_toString(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toString(t);return u(this,e,t&&t.implicit)&&(r="("+r+")"),this.name+"("+this.params.join(", ")+") = "+r}toJSON(){var t=this.types;return{mathjs:c,name:this.name,params:this.params.map((function(e,r){return{name:e,type:t[r]}})),expr:this.expr}}static fromJSON(t){return new l(t.name,t.params,t.expr)}_toHTML(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=[],n=0;n<this.params.length;n++)r.push('<span class="math-symbol math-parameter">'+(0,o.ih)(this.params[n])+"</span>");var i=this.expr.toHTML(t);return u(this,e,t&&t.implicit)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+(0,o.ih)(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+r.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+i}_toTex(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=this.expr.toTex(t);return u(this,e,t&&t.implicit)&&(r="\\left(".concat(r,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(h.QP).join(",")+"\\right)="+r}}return(0,n.A)(l,"name",c),l}),{isClass:!0,isNode:!0})},30561:(t,e,r)=>{r.d(e,{N:()=>d});var n=r(54705),i=r(14943),s=r(70760),o=r(93140),a=r(99863),h=r(8315),p=r(58321),u=r(64139),c="FunctionNode",l=["math","Node","SymbolNode"],d=(0,p.P9)(c,l,(t=>{var e,{math:r,Node:p,SymbolNode:l}=t,d=t=>(0,s.GP)(t,{truncate:78});function f(t,e,r){for(var n,s="",o=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,a=0;null!==(n=o.exec(t));)if(s+=t.substring(a,n.index),a=n.index,"$$"===n[0])s+="$",a++;else{a+=n[0].length;var h=e[n[1]];if(!h)throw new ReferenceError("Template: Property "+n[1]+" does not exist.");if(void 0===n[2])switch(typeof h){case"string":s+=h;break;case"object":if((0,i.Ll)(h))s+=h.toTex(r);else{if(!Array.isArray(h))throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes");s+=h.map((function(t,e){if((0,i.Ll)(t))return t.toTex(r);throw new TypeError("Template: "+n[1]+"["+e+"] is not a Node.")})).join(",")}break;default:throw new TypeError("Template: "+n[1]+" has to be a Node, String or array of Nodes")}else{if(!(0,i.Ll)(h[n[2]]&&h[n[2]]))throw new TypeError("Template: "+n[1]+"["+n[2]+"] is not a Node.");s+=h[n[2]].toTex(r)}}return s+=t.slice(a)}class m extends p{constructor(t,e){if(super(),"string"==typeof t&&(t=new l(t)),!(0,i.Ll)(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(i.Ll))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[]}get name(){return this.fn.name||""}get type(){return c}get isFunctionNode(){return!0}_compile(t,e){var r=this.args.map((r=>r._compile(t,e)));if(!(0,i.li)(this.fn)){if((0,i.AS)(this.fn)&&(0,i.$I)(this.fn.index)&&this.fn.index.isObjectProperty()){var n=this.fn.object._compile(t,e),s=this.fn.index.getObjectProperty(),o=this.args;return function(e,i,p){var u=n(e,i,p),c=(0,a.z_)(u,s);if(null!=c&&c.rawArgs)return c(o,t,(0,h.n)(e,i));var l=r.map((t=>t(e,i,p)));return c.apply(u,l)}}var p=this.fn.toString(),u=this.fn._compile(t,e),c=this.args;return function(e,n,i){var s=u(e,n,i);if("function"!=typeof s)throw new TypeError("Expression '".concat(p,"' did not evaluate to a function; value is:")+"\n  ".concat(d(s)));if(s.rawArgs)return s(c,t,(0,h.n)(e,n));var o=r.map((t=>t(e,n,i)));return s.apply(s,o)}}var l=this.fn.name;if(e[l]){var f=this.args;return function(e,n,i){var s=(0,a.HU)(n,l);if("function"!=typeof s)throw new TypeError("Argument '".concat(l,"' was not a function; received: ").concat(d(s)));if(s.rawArgs)return s(f,t,(0,h.n)(e,n));var o=r.map((t=>t(e,n,i)));return s.apply(s,o)}}var v=l in t?(0,a.HU)(t,l):void 0,g="function"==typeof v&&!0===v.rawArgs,y=e=>{var r;if(e.has(l))r=e.get(l);else{if(!(l in t))return m.onUndefinedFunction(l);r=(0,a.HU)(t,l)}if("function"==typeof r)return r;throw new TypeError("'".concat(l,"' is not a function; its value is:\n  ").concat(d(r)))};if(g){var N=this.args;return function(e,n,i){var s=y(e);return!0===s.rawArgs?s(N,t,(0,h.n)(e,n)):s(...r.map((t=>t(e,n,i))))}}switch(r.length){case 0:return function(t,e,r){return y(t)()};case 1:return function(t,e,n){return y(t)((0,r[0])(t,e,n))};case 2:return function(t,e,n){var i=y(t),s=r[0],o=r[1];return i(s(t,e,n),o(t,e,n))};default:return function(t,e,n){return y(t)(...r.map((r=>r(t,e,n))))}}}forEach(t){t(this.fn,"fn",this);for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)}map(t){for(var e=this._ifNode(t(this.fn,"fn",this)),r=[],n=0;n<this.args.length;n++)r[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new m(e,r)}clone(){return new m(this.fn,this.args.slice(0))}toString(t){var e,r=this.fn.toString(t);return t&&"object"==typeof t.handler&&(0,o.mQ)(t.handler,r)&&(e=t.handler[r](this,t)),void 0!==e?e:super.toString(t)}_toString(t){var e=this.args.map((function(e){return e.toString(t)}));return((0,i.m2)(this.fn)?"("+this.fn.toString(t)+")":this.fn.toString(t))+"("+e.join(", ")+")"}toJSON(){return{mathjs:c,fn:this.fn,args:this.args}}_toHTML(t){var e=this.args.map((function(e){return e.toHTML(t)}));return'<span class="math-function">'+(0,s.ih)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(t){var e;return t&&"object"==typeof t.handler&&(0,o.mQ)(t.handler,this.name)&&(e=t.handler[this.name](this,t)),void 0!==e?e:super.toTex(t)}_toTex(t){var e,n,i=this.args.map((function(e){return e.toTex(t)}));switch(u.WC[this.name]&&(e=u.WC[this.name]),!r[this.name]||"function"!=typeof r[this.name].toTex&&"object"!=typeof r[this.name].toTex&&"string"!=typeof r[this.name].toTex||(e=r[this.name].toTex),typeof e){case"function":n=e(this,t);break;case"string":n=f(e,this,t);break;case"object":switch(typeof e[i.length]){case"function":n=e[i.length](this,t);break;case"string":n=f(e[i.length],this,t)}}return void 0!==n?n:f(u.oB,this,t)}getIdentifier(){return this.type+":"+this.name}}return e=m,(0,n.A)(m,"name",c),(0,n.A)(m,"onUndefinedFunction",(function(t){throw new Error("Undefined function "+t)})),(0,n.A)(m,"fromJSON",(function(t){return new e(t.fn,t.args)})),m}),{isClass:!0,isNode:!0})},55937:(t,e,r)=>{r.d(e,{r:()=>c});var n=r(54705),i=r(35838),s=r(99863),o=r(58321),a=r(14943),h=r(70760),p="IndexNode",u=["Node","size"],c=(0,o.P9)(p,u,(t=>{var{Node:e,size:r}=t;class o extends e{constructor(t,e){if(super(),this.dimensions=t,this.dotNotation=e||!1,!Array.isArray(t)||!t.every(a.Ll))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return p}get isIndexNode(){return!0}_compile(t,e){var n=(0,i.Tj)(this.dimensions,(function(n,i){if(n.filter((t=>t.isSymbolNode&&"end"===t.name)).length>0){var s=Object.create(e);s.end=!0;var o=n._compile(t,s);return function(t,e,n){if(!(0,a.OA)(n)&&!(0,a.cy)(n)&&!(0,a.Kg)(n))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+(0,a.QP)(n));var s=r(n).valueOf(),h=Object.create(e);return h.end=s[i],o(t,h,n)}}return n._compile(t,e)})),o=(0,s.HU)(t,"index");return function(t,e,r){var s=(0,i.Tj)(n,(function(n){return n(t,e,r)}));return o(...s)}}forEach(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)}map(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this._ifNode(t(this.dimensions[r],"dimensions["+r+"]",this));return new o(e,this.dotNotation)}clone(){return new o(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&(0,a.BA)(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:p,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(t){return new o(t.dimensions,t.dotNotation)}_toHTML(t){for(var e=[],r=0;r<this.dimensions.length;r++)e[r]=this.dimensions[r].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+(0,h.ih)(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(t){var e=this.dimensions.map((function(e){return e.toTex(t)}));return this.dotNotation?"."+this.getObjectProperty():"_{"+e.join(",")+"}"}}return(0,n.A)(o,"name",p),o}),{isClass:!0,isNode:!0})},72613:(t,e,r)=>{r.d(e,{R:()=>p});var n=r(14943),i=r(6534),s=r(93140),o=r(58321),a=r(86905),h=["mathWithTransform"],p=(0,o.P9)("Node",h,(t=>{var{mathWithTransform:e}=t;return class{get type(){return"Node"}get isNode(){return!0}evaluate(t){return this.compile().evaluate(t)}compile(){var t=this._compile(e,{}),r={};return{evaluate:function(e){var n=(0,a.pI)(e);return function(t){for(var e of[...i.R])if(t.has(e))throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(n),t(n,r,null)}}}_compile(t,e){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(t){throw new Error("Cannot run forEach on a Node interface")}map(t){throw new Error("Cannot run map on a Node interface")}_ifNode(t){if(!(0,n.Ll)(t))throw new TypeError("Callback function must return a Node");return t}traverse(t){t(this,null,null),function t(e,r){e.forEach((function(e,n,i){r(e,n,i),t(e,r)}))}(this,t)}transform(t){return function e(r,n,i){var s=t(r,n,i);return s!==r?s:r.map(e)}(this,null,null)}filter(t){var e=[];return this.traverse((function(r,n,i){t(r,n,i)&&e.push(r)})),e}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map((function(t){return t.cloneDeep()}))}equals(t){return!!t&&(this.type===t.type&&(0,s.QO)(this,t))}toString(t){var e=this._getCustomString(t);return void 0!==e?e:this._toString(t)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(t){var e=this._getCustomString(t);return void 0!==e?e:this._toHTML(t)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(t){var e=this._getCustomString(t);return void 0!==e?e:this._toTex(t)}_toTex(t){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(t){if(t&&"object"==typeof t)switch(typeof t.handler){case"object":case"undefined":return;case"function":return t.handler(this,t);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}}),{isClass:!0,isNode:!0})},55926:(t,e,r)=>{r.d(e,{Q:()=>c});var n=r(54705),i=r(99863),s=r(58321),o=r(14943),a=r(93140),h=r(70760),p="ObjectNode",u=["Node"],c=(0,s.P9)(p,u,(t=>{var{Node:e}=t;class r extends e{constructor(t){if(super(),this.properties=t||{},t&&("object"!=typeof t||!Object.keys(t).every((function(e){return(0,o.Ll)(t[e])}))))throw new TypeError("Object containing Nodes expected")}get type(){return p}get isObjectNode(){return!0}_compile(t,e){var r={};for(var n in this.properties)if((0,a.mQ)(this.properties,n)){var s=(0,h.As)(n),o=JSON.parse(s),p=(0,i.HU)(this.properties,n);r[o]=p._compile(t,e)}return function(t,e,n){var i={};for(var s in r)(0,a.mQ)(r,s)&&(i[s]=r[s](t,e,n));return i}}forEach(t){for(var e in this.properties)(0,a.mQ)(this.properties,e)&&t(this.properties[e],"properties["+(0,h.As)(e)+"]",this)}map(t){var e={};for(var n in this.properties)(0,a.mQ)(this.properties,n)&&(e[n]=this._ifNode(t(this.properties[n],"properties["+(0,h.As)(n)+"]",this)));return new r(e)}clone(){var t={};for(var e in this.properties)(0,a.mQ)(this.properties,e)&&(t[e]=this.properties[e]);return new r(t)}_toString(t){var e=[];for(var r in this.properties)(0,a.mQ)(this.properties,r)&&e.push((0,h.As)(r)+": "+this.properties[r].toString(t));return"{"+e.join(", ")+"}"}toJSON(){return{mathjs:p,properties:this.properties}}static fromJSON(t){return new r(t.properties)}_toHTML(t){var e=[];for(var r in this.properties)(0,a.mQ)(this.properties,r)&&e.push('<span class="math-symbol math-property">'+(0,h.ih)(r)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[r].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(t){var e=[];for(var r in this.properties)(0,a.mQ)(this.properties,r)&&e.push("\\mathbf{"+r+":} & "+this.properties[r].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}"+e.join("\n")+"\\end{array}\\right\\}"}}return(0,n.A)(r,"name",p),r}),{isClass:!0,isNode:!0})},76917:(t,e,r)=>{r.d(e,{r:()=>f});var n=r(54705),i=r(14943),s=r(35838),o=r(8315),a=r(70760),h=r(99863),p=r(60261),u=r(64139),c=r(58321),l="OperatorNode",d=["Node"],f=(0,c.P9)(l,d,(t=>{var{Node:e}=t;function r(t,e){var n=t;if("auto"===e)for(;(0,i.tv)(n);)n=n.content;return!!(0,i.BA)(n)||!!(0,i.$$)(n)&&r(n.args[0],e)}function c(t,e,n,s,o){var a,h=(0,p.t$)(t,e,n),u=(0,p.dI)(t,e);if("all"===e||s.length>2&&"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier())return s.map((function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}}));switch(s.length){case 0:a=[];break;case 1:var c=(0,p.t$)(s[0],e,n,t);if(o&&null!==c){var l,d;if("keep"===e?(l=s[0].getIdentifier(),d=t.getIdentifier()):(l=s[0].getContent().getIdentifier(),d=t.getContent().getIdentifier()),!1===p.qo[h][d].latexLeftParens){a=[!1];break}if(!1===p.qo[c][l].latexParens){a=[!1];break}}if(null===c){a=[!1];break}if(c<=h){a=[!0];break}a=[!1];break;case 2:var f,m,v=(0,p.t$)(s[0],e,n,t),g=(0,p.U3)(t,s[0],e);f=null!==v&&(v===h&&"right"===u&&!g||v<h);var y,N,x,w=(0,p.t$)(s[1],e,n,t),b=(0,p.U3)(t,s[1],e);if(m=null!==w&&(w===h&&"left"===u&&!b||w<h),o)"keep"===e?(y=t.getIdentifier(),N=t.args[0].getIdentifier(),x=t.args[1].getIdentifier()):(y=t.getContent().getIdentifier(),N=t.args[0].getContent().getIdentifier(),x=t.args[1].getContent().getIdentifier()),null!==v&&(!1===p.qo[h][y].latexLeftParens&&(f=!1),!1===p.qo[v][N].latexParens&&(f=!1)),null!==w&&(!1===p.qo[h][y].latexRightParens&&(m=!1),!1===p.qo[w][x].latexParens&&(m=!1));a=[f,m];break;default:"OperatorNode:add"!==t.getIdentifier()&&"OperatorNode:multiply"!==t.getIdentifier()||(a=s.map((function(r){var i=(0,p.t$)(r,e,n,t),s=(0,p.U3)(t,r,e),o=(0,p.dI)(r,e);return null!==i&&(h===i&&u===o&&!s||i<h)})))}if(s.length>=2&&"OperatorNode:multiply"===t.getIdentifier()&&t.implicit&&"all"!==e&&"hide"===n)for(var k=1;k<a.length;++k)!r(s[k],e)||a[k-1]||"keep"===e&&(0,i.tv)(s[k-1])||(a[k]=!0);return a}class d extends e{constructor(t,e,r,n,s){if(super(),"string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(r)||!r.every(i.Ll))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===n,this.isPercentage=!0===s,this.op=t,this.fn=e,this.args=r||[]}get type(){return l}get isOperatorNode(){return!0}_compile(t,e){if("string"!=typeof this.fn||!(0,h.Tn)(t,this.fn))throw t[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=(0,h.HU)(t,this.fn),n=(0,s.Tj)(this.args,(function(r){return r._compile(t,e)}));if("function"==typeof r&&!0===r.rawArgs){var i=this.args;return function(e,n,s){return r(i,t,(0,o.n)(e,n))}}if(1===n.length){var a=n[0];return function(t,e,n){return r(a(t,e,n))}}if(2===n.length){var p=n[0],u=n[1];return function(t,e,n){return r(p(t,e,n),u(t,e,n))}}return function(t,e,i){return r.apply(null,(0,s.Tj)(n,(function(r){return r(t,e,i)})))}}forEach(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)}map(t){for(var e=[],r=0;r<this.args.length;r++)e[r]=this._ifNode(t(this.args[r],"args["+r+"]",this));return new d(this.op,this.fn,e,this.implicit,this.isPercentage)}clone(){return new d(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,i=c(this,e,r,n,!1);if(1===n.length){var s=(0,p.dI)(this,e),o=n[0].toString(t);i[0]&&(o="("+o+")");var a=/[a-zA-Z]+/.test(this.op);return"right"===s?this.op+(a?" ":"")+o:"left"===s?o+(a?" ":"")+this.op:o+this.op}if(2===n.length){var h=n[0].toString(t),u=n[1].toString(t);return i[0]&&(h="("+h+")"),i[1]&&(u="("+u+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+" "+u:h+" "+this.op+" "+u}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var l=n.map((function(e,r){return e=e.toString(t),i[r]&&(e="("+e+")"),e}));return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join(" "):l.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:l,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(t){return new d(t.op,t.fn,t.args,t.implicit,t.isPercentage)}_toHTML(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,i=c(this,e,r,n,!1);if(1===n.length){var s=(0,p.dI)(this,e),o=n[0].toHTML(t);return i[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===s?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+(0,a.ih)(this.op)+"</span>"+o:o+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+(0,a.ih)(this.op)+"</span>"}if(2===n.length){var h=n[0].toHTML(t),u=n[1].toHTML(t);return i[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),i[1]&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+u:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,a.ih)(this.op)+"</span>"+u}var l=n.map((function(e,r){return e=e.toHTML(t),i[r]&&(e='<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e}));return n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===r?l.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):l.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,a.ih)(this.op)+"</span>"):'<span class="math-function">'+(0,a.ih)(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(t){var e=t&&t.parenthesis?t.parenthesis:"keep",r=t&&t.implicit?t.implicit:"hide",n=this.args,i=c(this,e,r,n,!0),s=u.GK[this.fn];if(s=void 0===s?this.op:s,1===n.length){var o=(0,p.dI)(this,e),a=n[0].toTex(t);return i[0]&&(a="\\left(".concat(a,"\\right)")),"right"===o?s+a:a+s}if(2===n.length){var h=n[0],l=h.toTex(t);i[0]&&(l="\\left(".concat(l,"\\right)"));var d,f=n[1].toTex(t);switch(i[1]&&(f="\\left(".concat(f,"\\right)")),d="keep"===e?h.getIdentifier():h.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return s+"{"+l+"}{"+f+"}";case"OperatorNode:pow":switch(l="{"+l+"}",f="{"+f+"}",d){case"ConditionalNode":case"OperatorNode:divide":l="\\left(".concat(l,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===r)return l+"~"+f}return l+s+f}if(n.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var m=n.map((function(e,r){return e=e.toTex(t),i[r]&&(e="\\left(".concat(e,"\\right)")),e}));return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===r?m.join("~"):m.join(s)}return"\\mathrm{"+this.fn+"}\\left("+n.map((function(e){return e.toTex(t)})).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return(0,n.A)(d,"name",l),d}),{isClass:!0,isNode:!0})},99973:(t,e,r)=>{r.d(e,{n:()=>h});var n=r(54705),i=r(14943),s=r(58321),o="ParenthesisNode",a=["Node"],h=(0,s.P9)(o,a,(t=>{var{Node:e}=t;class r extends e{constructor(t){if(super(),!(0,i.Ll)(t))throw new TypeError('Node expected for parameter "content"');this.content=t}get type(){return o}get isParenthesisNode(){return!0}_compile(t,e){return this.content._compile(t,e)}getContent(){return this.content.getContent()}forEach(t){t(this.content,"content",this)}map(t){var e=t(this.content,"content",this);return new r(e)}clone(){return new r(this.content)}_toString(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)}toJSON(){return{mathjs:o,content:this.content}}static fromJSON(t){return new r(t.content)}_toHTML(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)}_toTex(t){return!t||t&&!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)}}return(0,n.A)(r,"name",o),r}),{isClass:!0,isNode:!0})},52808:(t,e,r)=>{r.d(e,{u:()=>p});var n=r(54705),i=r(14943),s=r(58321),o=r(60261),a="RangeNode",h=["Node"],p=(0,s.P9)(a,h,(t=>{var{Node:e}=t;function r(t,e,r){var n=(0,o.t$)(t,e,r),i={},s=(0,o.t$)(t.start,e,r);if(i.start=null!==s&&s<=n||"all"===e,t.step){var a=(0,o.t$)(t.step,e,r);i.step=null!==a&&a<=n||"all"===e}var h=(0,o.t$)(t.end,e,r);return i.end=null!==h&&h<=n||"all"===e,i}class s extends e{constructor(t,e,r){if(super(),!(0,i.Ll)(t))throw new TypeError("Node expected");if(!(0,i.Ll)(e))throw new TypeError("Node expected");if(r&&!(0,i.Ll)(r))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=r||null}get type(){return a}get isRangeNode(){return!0}needsEnd(){return this.filter((function(t){return(0,i.li)(t)&&"end"===t.name})).length>0}_compile(t,e){var r=t.range,n=this.start._compile(t,e),i=this.end._compile(t,e);if(this.step){var s=this.step._compile(t,e);return function(t,e,o){return r(n(t,e,o),i(t,e,o),s(t,e,o))}}return function(t,e,s){return r(n(t,e,s),i(t,e,s))}}forEach(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)}map(t){return new s(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))}clone(){return new s(this.start,this.end,this.step&&this.step)}_toString(t){var e,n=r(this,t&&t.parenthesis?t.parenthesis:"keep",t&&t.implicit),i=this.start.toString(t);if(n.start&&(i="("+i+")"),e=i,this.step){var s=this.step.toString(t);n.step&&(s="("+s+")"),e+=":"+s}var o=this.end.toString(t);return n.end&&(o="("+o+")"),e+=":"+o}toJSON(){return{mathjs:a,start:this.start,end:this.end,step:this.step}}static fromJSON(t){return new s(t.start,t.end,t.step)}_toHTML(t){var e,n=r(this,t&&t.parenthesis?t.parenthesis:"keep",t&&t.implicit),i=this.start.toHTML(t);if(n.start&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e=i,this.step){var s=this.step.toHTML(t);n.step&&(s='<span class="math-parenthesis math-round-parenthesis">(</span>'+s+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+s}var o=this.end.toHTML(t);return n.end&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),e+='<span class="math-operator math-range-operator">:</span>'+o}_toTex(t){var e=r(this,t&&t.parenthesis?t.parenthesis:"keep",t&&t.implicit),n=this.start.toTex(t);if(e.start&&(n="\\left(".concat(n,"\\right)")),this.step){var i=this.step.toTex(t);e.step&&(i="\\left(".concat(i,"\\right)")),n+=":"+i}var s=this.end.toTex(t);return e.end&&(s="\\left(".concat(s,"\\right)")),n+=":"+s}}return(0,n.A)(s,"name",a),s}),{isClass:!0,isNode:!0})},50088:(t,e,r)=>{r.d(e,{G:()=>c});var n=r(54705),i=r(60261),s=r(70760),o=r(99863),a=r(64139),h=r(58321),p="RelationalNode",u=["Node"],c=(0,h.P9)(p,u,(t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class h extends e{constructor(t,e){if(super(),!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e}get type(){return p}get isRelationalNode(){return!0}_compile(t,e){var r=this,n=this.params.map((r=>r._compile(t,e)));return function(e,i,s){for(var a,h=n[0](e,i,s),p=0;p<r.conditionals.length;p++){if(a=h,h=n[p+1](e,i,s),!(0,o.HU)(t,r.conditionals[p])(a,h))return!1}return!0}}forEach(t){this.params.forEach(((e,r)=>t(e,"params["+r+"]",this)),this)}map(t){return new h(this.conditionals.slice(),this.params.map(((e,r)=>this._ifNode(t(e,"params["+r+"]",this))),this))}clone(){return new h(this.conditionals,this.params)}_toString(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=(0,i.t$)(this,e,t&&t.implicit),s=this.params.map((function(r,s){var o=(0,i.t$)(r,e,t&&t.implicit);return"all"===e||null!==o&&o<=n?"("+r.toString(t)+")":r.toString(t)})),o=s[0],a=0;a<this.conditionals.length;a++)o+=" "+r[this.conditionals[a]],o+=" "+s[a+1];return o}toJSON(){return{mathjs:p,conditionals:this.conditionals,params:this.params}}static fromJSON(t){return new h(t.conditionals,t.params)}_toHTML(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=(0,i.t$)(this,e,t&&t.implicit),o=this.params.map((function(r,s){var o=(0,i.t$)(r,e,t&&t.implicit);return"all"===e||null!==o&&o<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':r.toHTML(t)})),a=o[0],h=0;h<this.conditionals.length;h++)a+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+(0,s.ih)(r[this.conditionals[h]])+"</span>"+o[h+1];return a}_toTex(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",r=(0,i.t$)(this,e,t&&t.implicit),n=this.params.map((function(n,s){var o=(0,i.t$)(n,e,t&&t.implicit);return"all"===e||null!==o&&o<=r?"\\left("+n.toTex(t)+"\right)":n.toTex(t)})),s=n[0],o=0;o<this.conditionals.length;o++)s+=a.GK[this.conditionals[o]]+n[o+1];return s}}return(0,n.A)(h,"name",p),h}),{isClass:!0,isNode:!0})},245:(t,e,r)=>{r.d(e,{F:()=>h});var n=r(70760),i=r(99863),s=r(58321),o=r(64139),a=["math","?Unit","Node"],h=(0,s.P9)("SymbolNode",a,(t=>{var{math:e,Unit:r,Node:s}=t;function a(t){return!!r&&r.isValuelessUnit(t)}class h extends s{constructor(t){if(super(),"string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(t,e){var n=this.name;if(!0===e[n])return function(t,e,r){return(0,i.HU)(e,n)};if(n in t)return function(e,r,s){return e.has(n)?e.get(n):(0,i.HU)(t,n)};var s=a(n);return function(t,e,i){return t.has(n)?t.get(n):s?new r(null,n):h.onUndefinedSymbol(n)}}forEach(t){}map(t){return this.clone()}static onUndefinedSymbol(t){throw new Error("Undefined symbol "+t)}clone(){return new h(this.name)}_toString(t){return this.name}_toHTML(t){var e=(0,n.ih)(this.name);return"true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(t){return new h(t.name)}_toTex(t){var r=!1;void 0===e[this.name]&&a(this.name)&&(r=!0);var n=(0,o.QP)(this.name,r);return"\\"===n[0]?n:" "+n}}return h}),{isClass:!0,isNode:!0})},47985:(t,e,r)=>{r.d(e,{T:()=>s});var n=r(79943),i=r(99863);function s(t){var{subset:e}=t;return function(t,r){try{if(Array.isArray(t))return e(t,r);if(t&&"function"==typeof t.subset)return t.subset(r);if("string"==typeof t)return e(t,r);if("object"==typeof t){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return(0,i.HU)(t,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(t){throw(0,n.D)(t)}}}},60261:(t,e,r)=>{r.d(e,{F5:()=>u,U3:()=>p,dI:()=>h,qo:()=>s,t$:()=>a});var n=r(93140),i=r(14943),s=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function o(t,e){if(!e||"auto"!==e)return t;for(var r=t;(0,i.tv)(r);)r=r.content;return r}function a(t,e,r,n){var a=t;"keep"!==e&&(a=t.getContent());for(var h=a.getIdentifier(),p=null,u=0;u<s.length;u++)if(h in s[u]){p=u;break}if("OperatorNode:multiply"===h&&a.implicit&&"show"!==r){var c=o(a.args[0],e);(0,i.BA)(c)&&n&&"OperatorNode:divide"===n.getIdentifier()&&(0,i.jW)(o(n.args[0],e))||"OperatorNode:divide"===c.getIdentifier()&&(0,i.jW)(o(c.args[0],e))&&(0,i.BA)(o(c.args[1]))||(p+=1)}return p}function h(t,e){var r=t;"keep"!==e&&(r=t.getContent());var i=r.getIdentifier(),o=a(r,e);if(null===o)return null;var h=s[o][i];if((0,n.mQ)(h,"associativity")){if("left"===h.associativity)return"left";if("right"===h.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+h.associativity+"'.")}return null}function p(t,e,r){var i="keep"!==r?t.getContent():t,o="keep"!==r?t.getContent():e,h=i.getIdentifier(),p=o.getIdentifier(),u=a(i,r);if(null===u)return null;var c=s[u][h];if((0,n.mQ)(c,"associativeWith")&&c.associativeWith instanceof Array){for(var l=0;l<c.associativeWith.length;l++)if(c.associativeWith[l]===p)return!0;return!1}return null}function u(t){var e="OperatorNode:"+t;for(var r of s)if(e in r)return r[e].op;return null}},37827:(t,e,r)=>{r.d(e,{U:()=>c});var n=r(58168),i=r(58321),s=r(14943),o=r(76355),a=r(51106),h=r(93140),p="parse",u=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],c=(0,i.P9)(p,u,(t=>{var{typed:e,numeric:r,config:i,AccessorNode:u,ArrayNode:c,AssignmentNode:l,BlockNode:d,ConditionalNode:f,ConstantNode:m,FunctionAssignmentNode:v,FunctionNode:g,IndexNode:y,ObjectNode:N,OperatorNode:x,ParenthesisNode:w,RangeNode:b,RelationalNode:k,SymbolNode:T}=t,O=e(p,{string:function(t){return B(t,{})},"Array | Matrix":function(t){return E(t,{})},"string, Object":function(t,e){return B(t,void 0!==e.nodes?e.nodes:{})},"Array | Matrix, Object":E});function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=void 0!==e.nodes?e.nodes:{};return(0,o.Bl)(t,(function(t){if("string"!=typeof t)throw new TypeError("String expected");return B(t,r)}))}var j={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},S={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},_={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},L=["NaN","Infinity"],P={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function C(t,e){return t.expression.substr(t.index,e)}function D(t){return C(t,1)}function M(t){t.index++}function I(t){return t.expression.charAt(t.index-1)}function H(t){return t.expression.charAt(t.index+1)}function $(t){for(t.tokenType=j.NULL,t.token="",t.comment="";;){if("#"===D(t))for(;"\n"!==D(t)&&""!==D(t);)t.comment+=D(t),M(t);if(!O.isWhitespace(D(t),t.nestingLevel))break;M(t)}if(""!==D(t)){if("\n"===D(t)&&!t.nestingLevel)return t.tokenType=j.DELIMITER,t.token=D(t),void M(t);var e=D(t),r=C(t,2),n=C(t,3);if(3===n.length&&S[n])return t.tokenType=j.DELIMITER,t.token=n,M(t),M(t),void M(t);if(2===r.length&&S[r])return t.tokenType=j.DELIMITER,t.token=r,M(t),void M(t);if(S[e])return t.tokenType=j.DELIMITER,t.token=e,void M(t);if(O.isDigitDot(e)){t.tokenType=j.NUMBER;var i=C(t,2);if("0b"===i||"0o"===i||"0x"===i){for(t.token+=D(t),M(t),t.token+=D(t),M(t);O.isHexDigit(D(t));)t.token+=D(t),M(t);if("."===D(t))for(t.token+=".",M(t);O.isHexDigit(D(t));)t.token+=D(t),M(t);else if("i"===D(t))for(t.token+="i",M(t);O.isDigit(D(t));)t.token+=D(t),M(t);return}if("."===D(t)){if(t.token+=D(t),M(t),!O.isDigit(D(t)))return void(t.tokenType=j.DELIMITER)}else{for(;O.isDigit(D(t));)t.token+=D(t),M(t);O.isDecimalMark(D(t),H(t))&&(t.token+=D(t),M(t))}for(;O.isDigit(D(t));)t.token+=D(t),M(t);if("E"===D(t)||"e"===D(t))if(O.isDigit(H(t))||"-"===H(t)||"+"===H(t)){if(t.token+=D(t),M(t),"+"!==D(t)&&"-"!==D(t)||(t.token+=D(t),M(t)),!O.isDigit(D(t)))throw ht(t,'Digit expected, got "'+D(t)+'"');for(;O.isDigit(D(t));)t.token+=D(t),M(t);if(O.isDecimalMark(D(t),H(t)))throw ht(t,'Digit expected, got "'+D(t)+'"')}else if("."===H(t))throw M(t),ht(t,'Digit expected, got "'+D(t)+'"')}else{if(!O.isAlpha(D(t),I(t),H(t))){for(t.tokenType=j.UNKNOWN;""!==D(t);)t.token+=D(t),M(t);throw ht(t,'Syntax error in part "'+t.token+'"')}for(;O.isAlpha(D(t),I(t),H(t))||O.isDigit(D(t));)t.token+=D(t),M(t);(0,h.mQ)(_,t.token)?t.tokenType=j.DELIMITER:t.tokenType=j.SYMBOL}}else t.tokenType=j.DELIMITER}function W(t){do{$(t)}while("\n"===t.token)}function U(t){t.nestingLevel++}function R(t){t.nestingLevel--}function B(t,e){var r={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:j.NULL,nestingLevel:0,conditionalLevel:null};(0,n.A)(r,{expression:t,extraNodes:e}),$(r);var i=function(t){var e,r,n=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&(e=J(t),t.comment&&(e.comment=t.comment));for(;"\n"===t.token||";"===t.token;)0===n.length&&e&&(r=";"!==t.token,n.push({node:e,visible:r})),$(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&(e=J(t),t.comment&&(e.comment=t.comment),r=";"!==t.token,n.push({node:e,visible:r}));return n.length>0?new d(n):(e||(e=new m(void 0),t.comment&&(e.comment=t.comment)),e)}(r);if(""!==r.token)throw r.tokenType===j.DELIMITER?pt(r,"Unexpected operator "+r.token):ht(r,'Unexpected part "'+r.token+'"');return i}function J(t){var e,r,n,i,o=function(t){var e=function(t){var e=F(t);for(;"or"===t.token;)W(t),e=new x("or","or",[e,F(t)]);return e}(t);for(;"?"===t.token;){var r=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,W(t);var n=e,i=J(t);if(":"!==t.token)throw ht(t,"False part of conditional expression expected");t.conditionalLevel=null,W(t);var s=J(t);e=new f(n,i,s),t.conditionalLevel=r}return e}(t);if("="===t.token){if((0,s.li)(o))return e=o.name,W(t),n=J(t),new l(new T(e),n);if((0,s.AS)(o))return W(t),n=J(t),new l(o.object,o.index,n);if((0,s.Px)(o)&&(0,s.li)(o.fn)&&(i=!0,r=[],e=o.name,o.args.forEach((function(t,e){(0,s.li)(t)?r[e]=t.name:i=!1})),i))return W(t),n=J(t),new v(e,r,n);throw ht(t,"Invalid left hand side of assignment operator =")}return o}function F(t){for(var e=Q(t);"xor"===t.token;)W(t),e=new x("xor","xor",[e,Q(t)]);return e}function Q(t){for(var e=q(t);"and"===t.token;)W(t),e=new x("and","and",[e,q(t)]);return e}function q(t){for(var e=z(t);"|"===t.token;)W(t),e=new x("|","bitOr",[e,z(t)]);return e}function z(t){for(var e=G(t);"^|"===t.token;)W(t),e=new x("^|","bitXor",[e,G(t)]);return e}function G(t){for(var e=Y(t);"&"===t.token;)W(t),e=new x("&","bitAnd",[e,Y(t)]);return e}function Y(t){for(var e=[V(t)],r=[],n={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};(0,h.mQ)(n,t.token);){var i={name:t.token,fn:n[t.token]};r.push(i),W(t),e.push(V(t))}return 1===e.length?e[0]:2===e.length?new x(r[0].name,r[0].fn,e):new k(r.map((t=>t.fn)),e)}function V(t){var e,r,n,i;e=K(t);for(var s={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};(0,h.mQ)(s,t.token);)n=s[r=t.token],W(t),i=[e,K(t)],e=new x(r,n,i);return e}function K(t){var e,r,n,i;e=Z(t);for(var s={to:"to",in:"to"};(0,h.mQ)(s,t.token);)n=s[r=t.token],W(t),"in"===r&&""===t.token?e=new x("*","multiply",[e,new T("in")],!0):(i=[e,Z(t)],e=new x(r,n,i));return e}function Z(t){var e,r=[];if(e=":"===t.token?new m(1):X(t),":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(r.push(e);":"===t.token&&r.length<3;)W(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?r.push(new T("end")):r.push(X(t));e=3===r.length?new b(r[0],r[2],r[1]):new b(r[0],r[1])}return e}function X(t){var e,r,n,i;e=tt(t);for(var s={"+":"add","-":"subtract"};(0,h.mQ)(s,t.token);){n=s[r=t.token],W(t);var o=tt(t);i=o.isPercentage?[e,new x("*","multiply",[e,o])]:[e,o],e=new x(r,n,i)}return e}function tt(t){var e,r,n,i;r=e=et(t);for(var s={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};(0,h.mQ)(s,t.token);)if(i=s[n=t.token],W(t),"%"===n&&t.tokenType===j.DELIMITER&&"("!==t.token)if(""!==t.token&&s[t.token]){var o=new x("/","divide",[e,new m(100)],!1,!0);i=s[n=t.token],W(t),r=et(t),e=new x(n,i,[o,r])}else e=new x("/","divide",[e,new m(100)],!1,!0);else r=et(t),e=new x(n,i,[e,r]);return e}function et(t){var e,r;for(r=e=rt(t);t.tokenType===j.SYMBOL||"in"===t.token&&(0,s.BA)(e)||"in"===t.token&&(0,s.$$)(e)&&"unaryMinus"===e.fn&&(0,s.BA)(e.args[0])||!(t.tokenType!==j.NUMBER||(0,s.BA)(r)||(0,s.$$)(r)&&"!"!==r.op)||"("===t.token;)r=rt(t),e=new x("*","multiply",[e,r],!0);return e}function rt(t){for(var e=nt(t),r=e,i=[];"/"===t.token&&(0,s.jW)(r);){if(i.push((0,n.A)({},t)),W(t),t.tokenType!==j.NUMBER){(0,n.A)(t,i.pop());break}if(i.push((0,n.A)({},t)),W(t),t.tokenType!==j.SYMBOL&&"("!==t.token&&"in"!==t.token){i.pop(),(0,n.A)(t,i.pop());break}(0,n.A)(t,i.pop()),i.pop(),r=nt(t),e=new x("/","divide",[e,r])}return e}function nt(t){var e,n,s,o={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return(0,h.mQ)(o,t.token)?(s=o[t.token],e=t.token,W(t),n=[nt(t)],new x(e,s,n)):function(t){var e,n,s,o;e=function(t){var e,n,s;e=function(t){var e=[];if(t.tokenType===j.SYMBOL&&(0,h.mQ)(t.extraNodes,t.token)){var n=t.extraNodes[t.token];if($(t),"("===t.token){if(e=[],U(t),$(t),")"!==t.token)for(e.push(J(t));","===t.token;)$(t),e.push(J(t));if(")"!==t.token)throw ht(t,"Parenthesis ) expected");R(t),$(t)}return new n(e)}return function(t){var e;if(t.tokenType===j.SYMBOL||t.tokenType===j.DELIMITER&&t.token in _)return e=t.token,$(t),it(t,(0,h.mQ)(A,e)?new m(A[e]):L.includes(e)?new m(r(e,"number")):new T(e));return function(t){var e;if('"'===t.token||"'"===t.token)return e=st(t,t.token),it(t,new m(e));return function(t){var e,n,s,o;if("["===t.token){if(U(t),$(t),"]"!==t.token){var h=ot(t);if(";"===t.token){for(s=1,n=[h];";"===t.token;)$(t),"]"!==t.token&&(n[s]=ot(t),s++);if("]"!==t.token)throw ht(t,"End of matrix ] expected");R(t),$(t),o=n[0].items.length;for(var p=1;p<s;p++)if(n[p].items.length!==o)throw pt(t,"Column dimensions mismatch ("+n[p].items.length+" !== "+o+")");e=new c(n)}else{if("]"!==t.token)throw ht(t,"End of matrix ] expected");R(t),$(t),e=h}}else R(t),$(t),e=new c([]);return it(t,e)}return function(t){if("{"===t.token){var e;U(t);var n={};do{if($(t),"}"!==t.token){if('"'===t.token||"'"===t.token)e=st(t,t.token);else{if(!(t.tokenType===j.SYMBOL||t.tokenType===j.DELIMITER&&t.token in _))throw ht(t,"Symbol or string expected as object key");e=t.token,$(t)}if(":"!==t.token)throw ht(t,"Colon : expected after object key");$(t),n[e]=J(t)}}while(","===t.token);if("}"!==t.token)throw ht(t,"Comma , or bracket } expected after object value");R(t),$(t);var s=new N(n);return s=it(t,s)}return function(t){var e;if(t.tokenType===j.NUMBER){e=t.token,$(t);var n=(0,a.BC)(e,i),s=r(e,n);return new m(s)}return function(t){var e;if("("===t.token){if(U(t),$(t),e=J(t),")"!==t.token)throw ht(t,"Parenthesis ) expected");return R(t),$(t),e=it(t,e=new w(e))}return function(t){throw""===t.token?ht(t,"Unexpected end of expression"):ht(t,"Value expected")}(t)}(t)}(t)}(t)}(t)}(t)}(t)}(t);var o={"!":"factorial","'":"ctranspose"};for(;(0,h.mQ)(o,t.token);)s=o[n=t.token],$(t),e=it(t,e=new x(n,s,[e]));return e}(t),("^"===t.token||".^"===t.token)&&(s="^"===(n=t.token)?"pow":"dotPow",W(t),o=[e,nt(t)],e=new x(n,s,o));return e}(t)}function it(t,e,r){for(var n;("("===t.token||"["===t.token||"."===t.token)&&(!r||r.includes(t.token));)if(n=[],"("===t.token){if(!(0,s.li)(e)&&!(0,s.AS)(e))return e;if(U(t),$(t),")"!==t.token)for(n.push(J(t));","===t.token;)$(t),n.push(J(t));if(")"!==t.token)throw ht(t,"Parenthesis ) expected");R(t),$(t),e=new g(e,n)}else if("["===t.token){if(U(t),$(t),"]"!==t.token)for(n.push(J(t));","===t.token;)$(t),n.push(J(t));if("]"!==t.token)throw ht(t,"Parenthesis ] expected");R(t),$(t),e=new u(e,new y(n))}else{if($(t),!(t.tokenType===j.SYMBOL||t.tokenType===j.DELIMITER&&t.token in _))throw ht(t,"Property name expected after dot");n.push(new m(t.token)),$(t);e=new u(e,new y(n,!0))}return e}function st(t,e){for(var r="";""!==D(t)&&D(t)!==e;)if("\\"===D(t)){M(t);var n=D(t),i=P[n];if(void 0!==i)r+=i,t.index+=1;else{if("u"!==n)throw ht(t,"Bad escape character \\".concat(n));var s=t.expression.slice(t.index+1,t.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(s))throw ht(t,"Invalid unicode character \\u".concat(s));r+=String.fromCharCode(parseInt(s,16)),t.index+=5}}else r+=D(t),M(t);if($(t),t.token!==e)throw ht(t,"End of string ".concat(e," expected"));return $(t),r}function ot(t){for(var e=[J(t)],r=1;","===t.token;)$(t),"]"!==t.token&&";"!==t.token&&(e[r]=J(t),r++);return new c(e)}function at(t){return t.index-t.token.length+1}function ht(t,e){var r=at(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}function pt(t,e){var r=at(t),n=new SyntaxError(e+" (char "+r+")");return n.char=r,n}return O.isAlpha=function(t,e,r){return O.isValidLatinOrGreek(t)||O.isValidMathSymbol(t,r)||O.isValidMathSymbol(e,t)},O.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},O.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},O.isWhitespace=function(t,e){return" "===t||"\t"===t||"\n"===t&&e>0},O.isDecimalMark=function(t,e){return"."===t&&"/"!==e&&"*"!==e&&"^"!==e},O.isDigitDot=function(t){return t>="0"&&t<="9"||"."===t},O.isDigit=function(t){return t>="0"&&t<="9"},O.isHexDigit=function(t){return t>="0"&&t<="9"||t>="a"&&t<="f"||t>="A"&&t<="F"},e.addConversion({from:"string",to:"Node",convert:O}),O}))}}]);