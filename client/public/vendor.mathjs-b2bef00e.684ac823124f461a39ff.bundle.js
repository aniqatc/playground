"use strict";(self.webpackChunkplayground=self.webpackChunkplayground||[]).push([[843],{3456:(r,n,e)=>{e.d(n,{o:()=>o});var t=e(93140),a=e(58321),i=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],o=(0,a.P9)("lup",i,(r=>{var{typed:n,matrix:e,abs:a,addScalar:i,divideScalar:o,multiplyScalar:s,subtractScalar:l,larger:u,equalScalar:c,unaryMinus:f,DenseMatrix:d,SparseMatrix:p,Spa:v}=r;return n("lup",{DenseMatrix:function(r){return m(r)},SparseMatrix:function(r){return g(r)},Array:function(r){var n=m(e(r));return{L:n.L.valueOf(),U:n.U.valueOf(),p:n.p}}});function m(r){var n,e,f,p=r._size[0],v=r._size[1],m=Math.min(p,v),g=(0,t.o8)(r._data),h=[],y=[p,m],w=[],b=[m,v],x=[];for(n=0;n<p;n++)x[n]=n;for(e=0;e<v;e++){if(e>0)for(n=0;n<p;n++){var N=Math.min(n,e),S=0;for(f=0;f<N;f++)S=i(S,s(g[n][f],g[f][e]));g[n][e]=l(g[n][e],S)}var M=e,A=0,_=0;for(n=e;n<p;n++){var O=g[n][e],C=a(O);u(C,A)&&(M=n,A=C,_=O)}if(e!==M&&(x[e]=[x[M],x[M]=x[e]][0],d._swapRows(e,M,g)),e<p)for(n=e+1;n<p;n++){var z=g[n][e];c(z,0)||(g[n][e]=o(g[n][e],_))}}for(e=0;e<v;e++)for(n=0;n<p;n++)0===e&&(n<v&&(w[n]=[]),h[n]=[]),n<e?(n<v&&(w[n][e]=g[n][e]),e<p&&(h[n][e]=0)):n!==e?(n<v&&(w[n][e]=0),e<p&&(h[n][e]=g[n][e])):(n<v&&(w[n][e]=g[n][e]),e<p&&(h[n][e]=1));var P=new d({data:h,size:y}),q=new d({data:w,size:b}),E=[];for(n=0,m=x.length;n<m;n++)E[x[n]]=n;return{L:P,U:q,p:E,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}function g(r){var n,e,t,i=r._size[0],l=r._size[1],d=Math.min(i,l),m=r._values,g=r._index,h=r._ptr,y=[],w=[],b=[],x=[i,d],N=[],S=[],M=[],A=[d,l],_=[],O=[];for(n=0;n<i;n++)_[n]=n,O[n]=n;var C=function(){var r=new v;e<i&&(b.push(y.length),y.push(1),w.push(e)),M.push(N.length);var l=h[e],d=h[e+1];for(t=l;t<d;t++)n=g[t],r.set(_[n],m[t]);e>0&&r.forEach(0,e-1,(function(n,e){p._forEachRow(n,y,w,b,(function(t,a){t>n&&r.accumulate(t,f(s(a,e)))}))}));var C,z,P,q,E=e,j=r.get(e),k=a(j);r.forEach(e+1,i-1,(function(r,n){var e=a(n);u(e,k)&&(E=r,k=e,j=n)})),e!==E&&(p._swapRows(e,E,x[1],y,w,b),p._swapRows(e,E,A[1],N,S,M),r.swap(e,E),z=E,P=O[C=e],q=O[z],_[P]=z,_[q]=C,O[C]=q,O[z]=P),r.forEach(0,i-1,(function(r,n){r<=e?(N.push(n),S.push(r)):(n=o(n,j),c(n,0)||(y.push(n),w.push(r)))}))};for(e=0;e<l;e++)C();return M.push(N.length),b.push(y.length),{L:new p({values:y,index:w,ptr:b,size:x}),U:new p({values:N,index:S,ptr:M,size:A}),p:_,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}))},73782:(r,n,e)=>{e.d(n,{K:()=>o});var t=e(58168),a=e(58321),i=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],o=(0,a.P9)("qr",i,(r=>{var{typed:n,matrix:e,zeros:a,identity:i,isZero:o,equal:s,sign:l,sqrt:u,conj:c,unaryMinus:f,addScalar:d,divideScalar:p,multiplyScalar:v,subtractScalar:m,complex:g}=r;return(0,t.A)(n("qr",{DenseMatrix:function(r){return y(r)},SparseMatrix:function(r){return function(){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(r){var n=y(e(r));return{Q:n.Q.valueOf(),R:n.R.valueOf()}}}),{_denseQRimpl:h});function h(r){var n,e,t,g=r._size[0],h=r._size[1],y=i([g],"dense"),w=y._data,b=r.clone(),x=b._data,N=a([g],"");for(t=0;t<Math.min(h,g);++t){var S=x[t][t],M=f(s(S,0)?1:l(S)),A=c(M),_=0;for(n=t;n<g;n++)_=d(_,v(x[n][t],c(x[n][t])));var O=v(M,u(_));if(!o(O)){var C=m(S,O);for(N[t]=1,n=t+1;n<g;n++)N[n]=p(x[n][t],C);var z=f(c(p(C,O))),P=void 0;for(e=t;e<h;e++){for(P=0,n=t;n<g;n++)P=d(P,v(c(N[n]),x[n][e]));for(P=v(P,z),n=t;n<g;n++)x[n][e]=v(m(x[n][e],v(N[n],P)),A)}for(n=0;n<g;n++){for(P=0,e=t;e<g;e++)P=d(P,v(w[n][e],N[e]));for(P=v(P,z),e=t;e<g;++e)w[n][e]=p(m(w[n][e],v(P,c(N[e]))),A)}}}return{Q:y,R:b,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function y(r){var n=h(r),e=n.R._data;if(r._data.length>0)for(var t="Complex"===e[0][0].type?g(0):0,a=0;a<e.length;++a)for(var i=0;i<a&&i<(e[0]||[]).length;++i)e[a][i]=t;return n}}))},77592:(r,n,e)=>{e.d(n,{u:()=>o});var t=e(58321),a="schur",i=["typed","matrix","identity","multiply","qr","norm","subtract"],o=(0,t.P9)(a,i,(r=>{var{typed:n,matrix:e,identity:t,multiply:i,qr:o,norm:s,subtract:l}=r;return n(a,{Array:function(r){var n=u(e(r));return{U:n.U.valueOf(),T:n.T.valueOf()}},Matrix:function(r){return u(r)}});function u(r){var n,e=r.size()[0],a=r,u=t(e),c=0;do{n=a;var f=o(a),d=f.Q,p=f.R;if(a=i(p,d),u=i(u,d),c++>100)break}while(s(l(a,n))>1e-4);return{U:u,T:a}}}))},71288:(r,n,e)=>{e.d(n,{H:()=>S});var t=e(51106),a=e(58321);function i(r,n,e,t,a,i,o){var s=0;for(e[o]=r;s>=0;){var l=e[o+s],u=e[t+l];-1===u?(s--,i[n++]=l):(e[t+l]=e[a+u],e[o+ ++s]=u)}return n}function o(r){return-r-2}var s=["add","multiply","transpose"],l=(0,a.P9)("csAmd",s,(r=>{var{add:n,multiply:e,transpose:t}=r;return function(r,l){if(!l||r<=0||r>3)return null;var u=l._size,c=u[0],f=u[1],d=0,p=Math.max(16,10*Math.sqrt(f)),v=function(r,a,i,o,s){var l=t(a);if(1===r&&o===i)return n(a,l);if(2===r){for(var u=l._index,c=l._ptr,f=0,d=0;d<i;d++){var p=c[d];if(c[d]=f,!(c[d+1]-p>s))for(var v=c[d+1];p<v;p++)u[f++]=u[p]}return c[i]=f,a=t(l),e(l,a)}return e(l,a)}(r,l,c,f,p=Math.min(f-2,p));!function(r,n,e){for(var t=r._values,a=r._index,i=r._ptr,o=r._size[1],s=0,l=0;l<o;l++){var u=i[l];for(i[l]=s;u<i[l+1];u++)n(a[u],l,t?t[u]:1,e)&&(a[s]=a[u],t&&(t[s]=t[u]),s++)}i[o]=s,a.splice(s,a.length-s),t&&t.splice(s,t.length-s)}(v,s,null);for(var m,g,h,y,w,b,x,N,S,M,A,_,O,C,z,P,q=v._index,E=v._ptr,j=E[f],k=[],F=[],B=f+1,D=2*(f+1),L=3*(f+1),R=4*(f+1),U=5*(f+1),$=6*(f+1),T=7*(f+1),I=k,Q=function(r,n,e,t,i,o,s,l,u,c,f,d){for(var p=0;p<r;p++)e[t+p]=n[p+1]-n[p];e[t+r]=0;for(var v=0;v<=r;v++)e[i+v]=-1,o[v]=-1,e[s+v]=-1,e[l+v]=-1,e[u+v]=1,e[c+v]=1,e[f+v]=0,e[d+v]=e[t+v];var m=a(0,0,e,c,r);return e[f+r]=-2,n[r]=-1,e[c+r]=0,m}(f,E,F,0,L,I,D,T,B,$,R,U),Z=function(r,n,e,t,a,i,s,l,u,c,f){for(var d=0,p=0;p<r;p++){var v=e[t+p];if(0===v)e[a+p]=-2,d++,n[p]=-1,e[i+p]=0;else if(v>s)e[l+p]=0,e[a+p]=-1,d++,n[p]=o(r),e[l+r]++;else{var m=e[u+v];-1!==m&&(c[m]=p),e[f+p]=e[u+v],e[u+v]=p}}return d}(f,E,F,U,R,$,p,B,L,I,D),G=0;Z<f;){for(h=-1;G<f&&-1===(h=F[L+G]);G++);-1!==F[D+h]&&(I[F[D+h]]=-1),F[L+G]=F[D+h];var W=F[R+h],J=F[B+h];Z+=J;var Y=0;F[B+h]=-J;var H=E[h],K=0===W?H:j,V=K;for(y=1;y<=W+1;y++){for(y>W?(b=h,x=H,N=F[0+h]-W):(x=E[b=q[H++]],N=F[0+b]),w=1;w<=N;w++)(S=F[B+(m=q[x++])])<=0||(Y+=S,F[B+m]=-S,q[V++]=m,-1!==F[D+m]&&(I[F[D+m]]=I[m]),-1!==I[m]?F[D+I[m]]=F[D+m]:F[L+F[U+m]]=F[D+m]);b!==h&&(E[b]=o(h),F[$+b]=0)}for(0!==W&&(j=V),F[U+h]=Y,E[h]=K,F[0+h]=V-K,F[R+h]=-2,Q=a(Q,d,F,$,f),M=K;M<V;M++)if(!((A=F[R+(m=q[M])])<=0)){var X=Q-(S=-F[B+m]);for(H=E[m],_=E[m]+A-1;H<=_;H++)F[$+(b=q[H])]>=Q?F[$+b]-=S:0!==F[$+b]&&(F[$+b]=F[U+b]+X)}for(M=K;M<V;M++){for(O=(_=E[m=q[M]])+F[R+m]-1,C=_,z=0,P=0,H=_;H<=O;H++)if(0!==F[$+(b=q[H])]){var rr=F[$+b]-Q;rr>0?(P+=rr,q[C++]=b,z+=b):(E[b]=o(h),F[$+b]=0)}F[R+m]=C-_+1;var nr=C,er=_+F[0+m];for(H=O+1;H<er;H++){var tr=F[B+(g=q[H])];tr<=0||(P+=tr,q[C++]=g,z+=g)}0===P?(E[m]=o(h),Y-=S=-F[B+m],J+=S,Z+=S,F[B+m]=0,F[R+m]=-1):(F[U+m]=Math.min(F[U+m],P),q[C]=q[nr],q[nr]=q[_],q[_]=h,F[0+m]=C-_+1,z=(z<0?-z:z)%f,F[D+m]=F[T+z],F[T+z]=m,I[m]=z)}for(F[U+h]=Y,Q=a(Q+(d=Math.max(d,Y)),d,F,$,f),M=K;M<V;M++)if(!(F[B+(m=q[M])]>=0))for(m=F[T+(z=I[m])],F[T+z]=-1;-1!==m&&-1!==F[D+m];m=F[D+m],Q++){for(N=F[0+m],A=F[R+m],H=E[m]+1;H<=E[m]+N-1;H++)F[$+q[H]]=Q;var ar=m;for(g=F[D+m];-1!==g;){var ir=F[0+g]===N&&F[R+g]===A;for(H=E[g]+1;ir&&H<=E[g]+N-1;H++)F[$+q[H]]!==Q&&(ir=0);ir?(E[g]=o(m),F[B+m]+=F[B+g],F[B+g]=0,F[R+g]=-1,g=F[D+g],F[D+ar]=g):(ar=g,g=F[D+g])}}for(H=K,M=K;M<V;M++)(S=-F[B+(m=q[M])])<=0||(F[B+m]=S,P=F[U+m]+Y-S,-1!==F[L+(P=Math.min(P,f-Z-S))]&&(I[F[L+P]]=m),F[D+m]=F[L+P],I[m]=-1,F[L+P]=m,G=Math.min(G,P),F[U+m]=P,q[H++]=m);F[B+h]=J,0==(F[0+h]=H-K)&&(E[h]=-1,F[$+h]=0),0!==W&&(j=H)}for(m=0;m<f;m++)E[m]=o(E[m]);for(g=0;g<=f;g++)F[L+g]=-1;for(g=f;g>=0;g--)F[B+g]>0||(F[D+g]=F[L+E[g]],F[L+E[g]]=g);for(b=f;b>=0;b--)F[B+b]<=0||-1!==E[b]&&(F[D+b]=F[L+E[b]],F[L+E[b]]=b);for(h=0,m=0;m<=f;m++)-1===E[m]&&(h=i(m,h,F,L,D,k,$));return k.splice(k.length-1,1),k};function a(r,n,e,t,a){if(r<2||r+n<0){for(var i=0;i<a;i++)0!==e[t+i]&&(e[t+i]=1);r=2}return r}function s(r,n){return r!==n}}));function u(r,n,e,t,a,i,o){var s,l,u,c=0;if(r<=n||e[t+n]<=e[a+r])return-1;e[a+r]=e[t+n];var f=e[i+r];if(e[i+r]=n,-1===f)c=1,u=r;else{for(c=2,u=f;u!==e[o+u];u=e[o+u]);for(s=f;s!==u;s=l)l=e[o+s],e[o+s]=u}return{jleaf:c,q:u}}var c=["transpose"],f=(0,a.P9)("csCounts",c,(r=>{var{transpose:n}=r;return function(r,e,t,a){if(!r||!e||!t)return null;var i,o,s,l,c,f,d,p=r._size,v=p[0],m=p[1],g=4*m+(a?m+v+1:0),h=[],y=m,w=2*m,b=3*m,x=4*m,N=5*m+1;for(s=0;s<g;s++)h[s]=-1;var S=[],M=n(r),A=M._index,_=M._ptr;for(s=0;s<m;s++)for(S[o=t[s]]=-1===h[b+o]?1:0;-1!==o&&-1===h[b+o];o=e[o])h[b+o]=s;if(a){for(s=0;s<m;s++)h[t[s]]=s;for(i=0;i<v;i++){for(s=m,f=_[i],d=_[i+1],c=f;c<d;c++)s=Math.min(s,h[A[c]]);h[N+i]=h[x+s],h[x+s]=i}}for(i=0;i<m;i++)h[0+i]=i;for(s=0;s<m;s++){for(-1!==e[o=t[s]]&&S[e[o]]--,l=a?h[x+s]:o;-1!==l;l=a?h[N+l]:-1)for(c=_[l];c<_[l+1];c++){var O=u(i=A[c],o,h,b,y,w,0);O.jleaf>=1&&S[o]++,2===O.jleaf&&S[O.q]--}-1!==e[o]&&(h[0+o]=e[o])}for(o=0;o<m;o++)-1!==e[o]&&(S[e[o]]+=S[o]);return S}})),d=["add","multiply","transpose"],p=(0,a.P9)("csSqr",d,(r=>{var{add:n,multiply:e,transpose:t}=r,a=l({add:n,multiply:e,transpose:t}),o=f({transpose:t});return function(r,n,e){var t,s=n._ptr,l=n._size[1],u={};if(u.q=a(r,n),r&&!u.q)return null;if(e){var c=r?function(r,n,e,t){for(var a=r._values,i=r._index,o=r._ptr,s=r._size,l=r._datatype,u=s[0],c=s[1],f=t&&r._values?[]:null,d=[],p=[],v=0,m=0;m<c;m++){p[m]=v;for(var g=e?e[m]:m,h=o[g],y=o[g+1],w=h;w<y;w++){var b=n?n[i[w]]:i[w];d[v]=b,f&&(f[v]=a[w]),v++}}return p[c]=v,r.createSparseMatrix({values:f,index:d,ptr:p,size:[u,c],datatype:l})}(n,null,u.q,0):n;u.parent=function(r,n){if(!r)return null;var e,t,a=r._index,i=r._ptr,o=r._size,s=o[0],l=o[1],u=[],c=[],f=l;if(n)for(e=0;e<s;e++)c[f+e]=-1;for(var d=0;d<l;d++){u[d]=-1,c[0+d]=-1;for(var p=i[d],v=i[d+1],m=p;m<v;m++){var g=a[m];for(e=n?c[f+g]:g;-1!==e&&e<d;e=t)t=c[0+e],c[0+e]=d,-1===t&&(u[e]=d);n&&(c[f+g]=d)}}return u}(c,1);var f=function(r,n){if(!r)return null;var e,t=0,a=[],o=[],s=n,l=2*n;for(e=0;e<n;e++)o[0+e]=-1;for(e=n-1;e>=0;e--)-1!==r[e]&&(o[s+e]=o[0+r[e]],o[0+r[e]]=e);for(e=0;e<n;e++)-1===r[e]&&(t=i(e,t,o,0,s,a,l));return a}(u.parent,l);if(u.cp=o(c,u.parent,f,1),c&&u.parent&&u.cp&&function(r,n){var e=r._ptr,t=r._index,a=r._size,i=a[0],o=a[1];n.pinv=[],n.leftmost=[];var s,l,u,c,f,d=n.parent,p=n.pinv,v=n.leftmost,m=[],g=0,h=i,y=i+o,w=i+2*o;for(l=0;l<o;l++)m[h+l]=-1,m[y+l]=-1,m[w+l]=0;for(s=0;s<i;s++)v[s]=-1;for(l=o-1;l>=0;l--)for(c=e[l],f=e[l+1],u=c;u<f;u++)v[t[u]]=l;for(s=i-1;s>=0;s--)p[s]=-1,-1!==(l=v[s])&&(0==m[w+l]++&&(m[y+l]=s),m[g+s]=m[h+l],m[h+l]=s);for(n.lnz=0,n.m2=i,l=0;l<o;l++)if(s=m[h+l],n.lnz++,s<0&&(s=n.m2++),p[s]=l,!(--w[l]<=0)){n.lnz+=m[w+l];var b=d[l];-1!==b&&(0===m[w+b]&&(m[y+b]=m[y+l]),m[g+m[y+l]]=m[h+b],m[h+b]=m[g+s],m[w+b]+=m[w+l])}for(s=0;s<i;s++)p[s]<0&&(p[s]=l++);return!0}(c,u))for(u.unz=0,t=0;t<l;t++)u.unz+=u.cp[t]}else u.unz=4*s[l]+l,u.lnz=u.unz;return u}}));function v(r,n){return r[n]<0}function m(r,n){r[n]=o(r[n])}function g(r){return r<0?o(r):r}function h(r,n,e,t,a){var i,o,s,l=n._index,u=n._ptr,c=n._size[1],f=0;for(t[0]=r;f>=0;){r=t[f];var d=a?a[r]:r;v(u,r)||(m(u,r),t[c+f]=d<0?0:g(u[d]));var p=1;for(o=t[c+f],s=d<0?0:g(u[d+1]);o<s;o++)if(!v(u,i=l[o])){t[c+f]=o,t[++f]=i,p=0;break}p&&(f--,t[--e]=r)}return e}var y=["divideScalar","multiply","subtract"],w=(0,a.P9)("csSpsolve",y,(r=>{var{divideScalar:n,multiply:e,subtract:t}=r;return function(r,a,i,o,s,l,u){var c,f,d,p,g=r._values,y=r._index,w=r._ptr,b=r._size[1],x=a._values,N=a._index,S=a._ptr,M=function(r,n,e,t,a){var i,o,s,l=r._ptr,u=r._size,c=n._index,f=n._ptr,d=u[1],p=d;for(o=f[e],s=f[e+1],i=o;i<s;i++){var g=c[i];v(l,g)||(p=h(g,r,p,t,a))}for(i=p;i<d;i++)m(l,t[i]);return p}(r,a,i,o,l);for(c=M;c<b;c++)s[o[c]]=0;for(f=S[i],d=S[i+1],c=f;c<d;c++)s[N[c]]=x[c];for(var A=M;A<b;A++){var _=o[A],O=l?l[_]:_;if(!(O<0))for(f=w[O],d=w[O+1],s[_]=n(s[_],g[u?f:d-1]),c=u?f+1:f,p=u?d:d-1;c<p;c++){var C=y[c];s[C]=t(s[C],e(g[c],s[_]))}}return M}})),b=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],x=(0,a.P9)("csLu",b,(r=>{var{abs:n,divideScalar:e,multiply:t,subtract:a,larger:i,largerEq:o,SparseMatrix:s}=r,l=w({divideScalar:e,multiply:t,subtract:a});return function(r,a,u){if(!r)return null;var c,f=r._size[1],d=100,p=100;a&&(c=a.q,d=a.lnz||d,p=a.unz||p);var v,m,g=[],h=[],y=[],w=new s({values:g,index:h,ptr:y,size:[f,f]}),b=[],x=[],N=[],S=new s({values:b,index:x,ptr:N,size:[f,f]}),M=[],A=[],_=[];for(v=0;v<f;v++)A[v]=0,M[v]=-1,y[v+1]=0;d=0,p=0;for(var O=0;O<f;O++){y[O]=d,N[O]=p;var C=c?c[O]:O,z=l(w,r,C,_,A,M,1),P=-1,q=-1;for(m=z;m<f;m++)if(M[v=_[m]]<0){var E=n(A[v]);i(E,q)&&(q=E,P=v)}else x[p]=M[v],b[p++]=A[v];if(-1===P||q<=0)return null;M[C]<0&&o(n(A[C]),t(q,u))&&(P=C);var j=A[P];for(x[p]=O,b[p++]=j,M[P]=O,h[d]=P,g[d++]=1,m=z;m<f;m++)M[v=_[m]]<0&&(h[d]=v,g[d++]=e(A[v],j)),A[v]=0}for(y[f]=d,N[f]=p,m=0;m<d;m++)h[m]=M[h[m]];return g.splice(d,g.length-d),h.splice(d,h.length-d),b.splice(p,b.length-p),x.splice(p,x.length-p),{L:w,U:S,pinv:M}}})),N=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],S=(0,a.P9)("slu",N,(r=>{var{typed:n,abs:e,add:a,multiply:i,transpose:o,divideScalar:s,subtract:l,larger:u,largerEq:c,SparseMatrix:f}=r,d=p({add:a,multiply:i,transpose:o}),v=x({abs:e,divideScalar:s,multiply:i,subtract:l,larger:u,largerEq:c,SparseMatrix:f});return n("slu",{"SparseMatrix, number, number":function(r,n,e){if(!(0,t.YN)(n)||n<0||n>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(e<0||e>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var a=d(n,r,!1),i=v(r,a,e);return{L:i.L,U:i.U,p:i.pinv,q:a.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}))},53792:(r,n,e)=>{e.d(n,{s:()=>l});var t=e(14943),a=e(58321),i=e(51106),o="derivative",s=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],l=(0,a.P9)(o,s,(r=>{var{typed:n,config:e,parse:a,simplify:s,equal:l,isZero:u,numeric:c,ConstantNode:f,FunctionNode:d,OperatorNode:p,ParenthesisNode:v,SymbolNode:m}=r;function g(r,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},t=new Map,a=n.name;var i=x(r,(function r(n){var e=t.get(n);if(void 0!==e)return e;var i=b(r,n,a);return t.set(n,i),i}));return e.simplify?s(i):i}function h(r){var n=a(r);if(!n.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(r)," into a variable in function derivative"));return n}var y=n(o,{"Node, SymbolNode":g,"Node, SymbolNode, Object":g,"Node, string":(r,n)=>g(r,h(n)),"Node, string, Object":(r,n,e)=>g(r,h(n),e)});y._simplify=!0,y.toTex=function(r){return w.apply(null,r.args)};var w=n("_derivTex",{"Node, SymbolNode":function(r,n){return(0,t.BA)(r)&&"string"===(0,t.QP)(r.value)?w(a(r.value).toString(),n.toString(),1):w(r.toTex(),n.toString(),1)},"Node, ConstantNode":function(r,n){if("string"===(0,t.QP)(n.value))return w(r,a(n.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(r,n,e){return w(r.toString(),n.name,e.value)},"string, string, number":function(r,n,e){return(1===e?"{d\\over d"+n+"}":"{d^{"+e+"}\\over d"+n+"^{"+e+"}}")+"\\left[".concat(r,"\\right]")}}),b=n("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(r,n,e){return n.name!==e},"function, ParenthesisNode, string":function(r,n,e){return r(n.content,e)},"function, FunctionAssignmentNode, string":function(r,n,e){return!n.params.includes(e)||r(n.expr,e)},"function, FunctionNode | OperatorNode, string":function(r,n,e){return n.args.every((n=>r(n,e)))}}),x=n("_derivative",{"ConstantNode, function":function(){return N(0)},"SymbolNode, function":function(r,n){return n(r)?N(0):N(1)},"ParenthesisNode, function":function(r,n){return new v(x(r.content,n))},"FunctionAssignmentNode, function":function(r,n){return n(r)?N(0):x(r.expr,n)},"FunctionNode, function":function(r,n){if(n(r))return N(0);var e,t,a,i,o=r.args[0],s=!1,l=!1;switch(r.name){case"cbrt":s=!0,t=new p("*","multiply",[N(3),new p("^","pow",[o,new p("/","divide",[N(2),N(3)])])]);break;case"sqrt":case"nthRoot":if(1===r.args.length)s=!0,t=new p("*","multiply",[N(2),new d("sqrt",[o])]);else if(2===r.args.length)return e=new p("/","divide",[N(1),r.args[1]]),x(new p("^","pow",[o,e]),n);break;case"log10":e=N(10);case"log":if(e||1!==r.args.length){if(1===r.args.length&&e||2===r.args.length&&n(r.args[1]))t=new p("*","multiply",[o.clone(),new d("log",[e||r.args[1]])]),s=!0;else if(2===r.args.length)return x(new p("/","divide",[new d("log",[o]),new d("log",[r.args[1]])]),n)}else t=o.clone(),s=!0;break;case"pow":if(2===r.args.length)return x(new p("^","pow",[o,r.args[1]]),n);break;case"exp":t=new d("exp",[o.clone()]);break;case"sin":t=new d("cos",[o.clone()]);break;case"cos":t=new p("-","unaryMinus",[new d("sin",[o.clone()])]);break;case"tan":t=new p("^","pow",[new d("sec",[o.clone()]),N(2)]);break;case"sec":t=new p("*","multiply",[r,new d("tan",[o.clone()])]);break;case"csc":l=!0,t=new p("*","multiply",[r,new d("cot",[o.clone()])]);break;case"cot":l=!0,t=new p("^","pow",[new d("csc",[o.clone()]),N(2)]);break;case"asin":s=!0,t=new d("sqrt",[new p("-","subtract",[N(1),new p("^","pow",[o.clone(),N(2)])])]);break;case"acos":s=!0,l=!0,t=new d("sqrt",[new p("-","subtract",[N(1),new p("^","pow",[o.clone(),N(2)])])]);break;case"atan":s=!0,t=new p("+","add",[new p("^","pow",[o.clone(),N(2)]),N(1)]);break;case"asec":s=!0,t=new p("*","multiply",[new d("abs",[o.clone()]),new d("sqrt",[new p("-","subtract",[new p("^","pow",[o.clone(),N(2)]),N(1)])])]);break;case"acsc":s=!0,l=!0,t=new p("*","multiply",[new d("abs",[o.clone()]),new d("sqrt",[new p("-","subtract",[new p("^","pow",[o.clone(),N(2)]),N(1)])])]);break;case"acot":s=!0,l=!0,t=new p("+","add",[new p("^","pow",[o.clone(),N(2)]),N(1)]);break;case"sinh":t=new d("cosh",[o.clone()]);break;case"cosh":t=new d("sinh",[o.clone()]);break;case"tanh":t=new p("^","pow",[new d("sech",[o.clone()]),N(2)]);break;case"sech":l=!0,t=new p("*","multiply",[r,new d("tanh",[o.clone()])]);break;case"csch":l=!0,t=new p("*","multiply",[r,new d("coth",[o.clone()])]);break;case"coth":l=!0,t=new p("^","pow",[new d("csch",[o.clone()]),N(2)]);break;case"asinh":s=!0,t=new d("sqrt",[new p("+","add",[new p("^","pow",[o.clone(),N(2)]),N(1)])]);break;case"acosh":s=!0,t=new d("sqrt",[new p("-","subtract",[new p("^","pow",[o.clone(),N(2)]),N(1)])]);break;case"atanh":s=!0,t=new p("-","subtract",[N(1),new p("^","pow",[o.clone(),N(2)])]);break;case"asech":s=!0,l=!0,t=new p("*","multiply",[o.clone(),new d("sqrt",[new p("-","subtract",[N(1),new p("^","pow",[o.clone(),N(2)])])])]);break;case"acsch":s=!0,l=!0,t=new p("*","multiply",[new d("abs",[o.clone()]),new d("sqrt",[new p("+","add",[new p("^","pow",[o.clone(),N(2)]),N(1)])])]);break;case"acoth":s=!0,l=!0,t=new p("-","subtract",[N(1),new p("^","pow",[o.clone(),N(2)])]);break;case"abs":t=new p("/","divide",[new d(new m("abs"),[o.clone()]),o.clone()]);break;default:throw new Error('Cannot process function "'+r.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}s?(a="/",i="divide"):(a="*",i="multiply");var u=x(o,n);return l&&(u=new p("-","unaryMinus",[u])),new p(a,i,[u,t])},"OperatorNode, function":function(r,n){if(n(r))return N(0);if("+"===r.op)return new p(r.op,r.fn,r.args.map((function(r){return x(r,n)})));if("-"===r.op){if(r.isUnary())return new p(r.op,r.fn,[x(r.args[0],n)]);if(r.isBinary())return new p(r.op,r.fn,[x(r.args[0],n),x(r.args[1],n)])}if("*"===r.op){var e=r.args.filter((function(r){return n(r)}));if(e.length>0){var a=r.args.filter((function(r){return!n(r)})),i=1===a.length?a[0]:new p("*","multiply",a),o=e.concat(x(i,n));return new p("*","multiply",o)}return new p("+","add",r.args.map((function(e){return new p("*","multiply",r.args.map((function(r){return r===e?x(r,n):r.clone()})))})))}if("/"===r.op&&r.isBinary()){var s=r.args[0],c=r.args[1];return n(c)?new p("/","divide",[x(s,n),c]):n(s)?new p("*","multiply",[new p("-","unaryMinus",[s]),new p("/","divide",[x(c,n),new p("^","pow",[c.clone(),N(2)])])]):new p("/","divide",[new p("-","subtract",[new p("*","multiply",[x(s,n),c.clone()]),new p("*","multiply",[s.clone(),x(c,n)])]),new p("^","pow",[c.clone(),N(2)])])}if("^"===r.op&&r.isBinary()){var f=r.args[0],v=r.args[1];if(n(f))return(0,t.BA)(f)&&(u(f.value)||l(f.value,1))?N(0):new p("*","multiply",[r,new p("*","multiply",[new d("log",[f.clone()]),x(v.clone(),n)])]);if(n(v)){if((0,t.BA)(v)){if(u(v.value))return N(0);if(l(v.value,1))return x(f,n)}var m=new p("^","pow",[f.clone(),new p("-","subtract",[v,N(1)])]);return new p("*","multiply",[v.clone(),new p("*","multiply",[x(f,n),m])])}return new p("*","multiply",[new p("^","pow",[f.clone(),v.clone()]),new p("+","add",[new p("*","multiply",[x(f,n),new p("/","divide",[v.clone(),f.clone()])]),new p("*","multiply",[x(v,n),new d("log",[f.clone()])])])])}throw new Error('Cannot process operator "'+r.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function N(r,n){return new f(c(r,n||(0,i.BC)(String(r),e)))}return y}))},64274:(r,n,e)=>{e.d(n,{C:()=>o});var t=e(58321),a="leafCount",i=["parse","typed"],o=(0,t.P9)(a,i,(r=>{var{parse:n,typed:e}=r;function t(r){var n=0;return r.forEach((r=>{n+=t(r)})),n||1}return e(a,{Node:function(r){return t(r)}})}))},2259:(r,n,e)=>{e.d(n,{L:()=>o});var t=e(58321),a="lyap",i=["typed","matrix","sylvester","multiply","transpose"],o=(0,t.P9)(a,i,(r=>{var{typed:n,matrix:e,sylvester:t,multiply:i,transpose:o}=r;return n(a,{"Matrix, Matrix":function(r,n){return t(r,o(r),i(-1,n))},"Array, Matrix":function(r,n){return t(e(r),o(e(r)),i(-1,n))},"Matrix, Array":function(r,n){return t(r,o(e(r)),e(i(-1,n)))},"Array, Array":function(r,n){return t(e(r),o(e(r)),e(i(-1,n))).toArray()}})}))},45359:(r,n,e)=>{e.d(n,{r:()=>o});var t=e(58321),a="polynomialRoot",i=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],o=(0,t.P9)(a,i,(r=>{var{typed:n,isZero:e,equalScalar:t,add:i,subtract:o,multiply:s,divide:l,sqrt:u,unaryMinus:c,cbrt:f,typeOf:d,im:p,re:v}=r;return n(a,{"number|Complex, ...number|Complex":(r,n)=>{for(var a=[r,...n];a.length>0&&e(a[a.length-1]);)a.pop();if(a.length<2)throw new RangeError("Polynomial [".concat(r,", ").concat(n,"] must have a non-zero non-constant coefficient"));switch(a.length){case 2:return[c(l(a[0],a[1]))];case 3:var[m,g,h]=a,y=s(2,h),w=s(g,g),b=s(4,h,m);if(t(w,b))return[l(c(g),y)];var x=u(o(w,b));return[l(o(x,g),y),l(o(c(x),g),y)];case 4:var[N,S,M,A]=a,_=c(s(3,A)),O=s(M,M),C=s(3,A,S),z=i(s(2,M,M,M),s(27,A,A,N)),P=s(9,A,M,S);if(t(O,C)&&t(z,P))return[l(M,_)];var q,E=o(O,C),j=o(z,P),k=i(s(18,A,M,S,N),s(M,M,S,S)),F=i(s(4,M,M,M,N),s(4,A,S,S,S),s(27,A,A,N,N));if(t(k,F))return[l(o(s(4,A,M,S),i(s(9,A,A,N),s(M,M,M))),s(A,E)),l(o(s(9,A,N),s(M,S)),s(2,E))];q=t(O,C)?j:l(i(j,u(o(s(j,j),s(4,E,E,E)))),2);return f(q,!0).toArray().map((r=>l(i(M,r,l(E,r)),_))).map((r=>"Complex"===d(r)&&t(v(r),v(r)+p(r))?v(r):r));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(a))}}})}))},15833:(r,n,e)=>{e.d(n,{L:()=>s});var t=e(51106),a=e(58321),i="rationalize",o=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],s=(0,a.P9)(i,o,(r=>{var{config:n,typed:e,equal:a,isZero:o,add:s,subtract:l,multiply:u,divide:c,pow:f,parse:d,simplifyConstant:p,simplifyCore:v,simplify:m,fraction:g,bignumber:h,mathWithTransform:y,matrix:w,AccessorNode:b,ArrayNode:x,ConstantNode:N,FunctionNode:S,IndexNode:M,ObjectNode:A,OperatorNode:_,SymbolNode:O,ParenthesisNode:C}=r;function z(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=function(){var r=[v,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},p,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],n=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],e=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],t=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],a={};return a.firstRules=r.concat(n,t),a.distrDivRules=e,a.sucDivRules=t,a.firstRulesAgain=r.concat(n),a.finalRules=[v,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},p,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],a}(),i=function(r,n,e,a){var i=[],o=m(r,a,n,{exactFractions:!1}),s="+-*"+((e=!!e)?"/":"");u(o);var l={};return l.expression=o,l.variables=i,l;function u(r){var n=r.type;if("FunctionNode"===n)throw new Error("There is an unsolved function call");if("OperatorNode"===n)if("^"===r.op){if("ConstantNode"!==r.args[1].type||!(0,t.YN)(parseFloat(r.args[1].value)))throw new Error("There is a non-integer exponent");u(r.args[0])}else{if(!s.includes(r.op))throw new Error("Operator "+r.op+" invalid in polynomial expression");for(var e=0;e<r.args.length;e++)u(r.args[e])}else if("SymbolNode"===n){var a=r.name;-1===i.indexOf(a)&&i.push(a)}else if("ParenthesisNode"===n)u(r.content);else if("ConstantNode"!==n)throw new Error("type "+n+" is not allowed in polynomial expression")}}(r,n,!0,a.firstRules),o=i.variables.length,s={exactFractions:!1},l={exactFractions:!0};if(r=i.expression,o>=1){var u,c;r=P(r);var f,d=!0,g=!1;for(r=m(r,a.firstRules,{},s);c=d?a.distrDivRules:a.sucDivRules,d=!d,(f=(r=m(r,c,{},l)).toString())!==u;)g=!0,u=f;g&&(r=m(r,a.firstRulesAgain,{},s)),r=m(r,a.finalRules,{},s)}var h=[],y={};return"OperatorNode"===r.type&&r.isBinary()&&"/"===r.op?(1===o&&(r.args[0]=q(r.args[0],h),r.args[1]=q(r.args[1])),e&&(y.numerator=r.args[0],y.denominator=r.args[1])):(1===o&&(r=q(r,h)),e&&(y.numerator=r,y.denominator=null)),e?(y.coefficients=h,y.variables=i.variables,y.expression=r,y):r}return e(i,{Node:z,"Node, boolean":(r,n)=>z(r,{},n),"Node, Object":z,"Node, Object, boolean":z});function P(r,n,e){var a=r.type,i=arguments.length>1;if("OperatorNode"===a&&r.isBinary()){var o,s=!1;if("^"===r.op&&("ParenthesisNode"!==r.args[0].type&&"OperatorNode"!==r.args[0].type||"ConstantNode"!==r.args[1].type||(s=(o=parseFloat(r.args[1].value))>=2&&(0,t.YN)(o))),s){if(o>2){var l=r.args[0],u=new _("^","pow",[r.args[0].cloneDeep(),new N(o-1)]);r=new _("*","multiply",[l,u])}else r=new _("*","multiply",[r.args[0],r.args[0].cloneDeep()]);i&&("content"===e?n.content=r:n.args[e]=r)}}if("ParenthesisNode"===a)P(r.content,r,"content");else if("ConstantNode"!==a&&"SymbolNode"!==a)for(var c=0;c<r.args.length;c++)P(r.args[c],r,c);if(!i)return r}function q(r,n){void 0===n&&(n=[]),n[0]=0;var e={cte:1,oper:"+",fire:""},a=0,i="";!function r(e,o,s){var l=e.type;if("FunctionNode"===l)throw new Error("There is an unsolved function call");if("OperatorNode"===l){if(!"+-*^".includes(e.op))throw new Error("Operator "+e.op+" invalid");if(null!==o){if(("unaryMinus"===e.fn||"pow"===e.fn)&&"add"!==o.fn&&"subtract"!==o.fn&&"multiply"!==o.fn)throw new Error("Invalid "+e.op+" placing");if(("subtract"===e.fn||"add"===e.fn||"multiply"===e.fn)&&"add"!==o.fn&&"subtract"!==o.fn)throw new Error("Invalid "+e.op+" placing");if(("subtract"===e.fn||"add"===e.fn||"unaryMinus"===e.fn)&&0!==s.noFil)throw new Error("Invalid "+e.op+" placing")}"^"!==e.op&&"*"!==e.op||(s.fire=e.op);for(var u=0;u<e.args.length;u++)"unaryMinus"===e.fn&&(s.oper="-"),"+"!==e.op&&"subtract"!==e.fn||(s.fire="",s.cte=1,s.oper=0===u?"+":e.op),s.noFil=u,r(e.args[u],e,s)}else if("SymbolNode"===l){if(e.name!==i&&""!==i)throw new Error("There is more than one variable");if(i=e.name,null===o)return void(n[1]=1);if("^"===o.op&&0!==s.noFil)throw new Error("In power the variable should be the first parameter");if("*"===o.op&&1!==s.noFil)throw new Error("In multiply the variable should be the second parameter");""!==s.fire&&"*"!==s.fire||(a<1&&(n[1]=0),n[1]+=s.cte*("+"===s.oper?1:-1),a=Math.max(1,a))}else{if("ConstantNode"!==l)throw new Error("Type "+l+" is not allowed");var c=parseFloat(e.value);if(null===o)return void(n[0]=c);if("^"===o.op){if(1!==s.noFil)throw new Error("Constant cannot be powered");if(!(0,t.YN)(c)||c<=0)throw new Error("Non-integer exponent is not allowed");for(var f=a+1;f<c;f++)n[f]=0;return c>a&&(n[c]=0),n[c]+=s.cte*("+"===s.oper?1:-1),void(a=Math.max(c,a))}s.cte=c,""===s.fire&&(n[0]+=s.cte*("+"===s.oper?1:-1))}}(r,null,e);for(var o,s=!0,l=a=n.length-1;l>=0;l--)if(0!==n[l]){var u=new N(s?n[l]:Math.abs(n[l])),c=n[l]<0?"-":"+";if(l>0){var f=new O(i);if(l>1){var d=new N(l);f=new _("^","pow",[f,d])}u=-1===n[l]&&s?new _("-","unaryMinus",[f]):1===Math.abs(n[l])?f:new _("*","multiply",[u,f])}o=s?u:"+"===c?new _("+","add",[o,u]):new _("-","subtract",[o,u]),s=!1}return s?new N(0):o}}))},56017:(r,n,e)=>{e.d(n,{x:()=>o});var t=e(86905),a=e(14943),i=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],o=(0,e(58321).P9)("resolve",i,(r=>{var{typed:n,parse:e,ConstantNode:i,FunctionNode:o,OperatorNode:s,ParenthesisNode:l}=r;function u(r,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!n)return r;if((0,a.li)(r)){if(t.has(r.name)){var c=Array.from(t).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(c,"}"))}var f=n.get(r.name);if((0,a.Ll)(f)){var d=new Set(t);return d.add(r.name),u(f,n,d)}return"number"==typeof f?e(String(f)):void 0!==f?new i(f):r}if((0,a.$$)(r)){var p=r.args.map((function(r){return u(r,n,t)}));return new s(r.op,r.fn,p,r.implicit)}if((0,a.tv)(r))return new l(u(r.content,n,t));if((0,a.Px)(r)){var v=r.args.map((function(r){return u(r,n,t)}));return new o(r.name,v)}return r.map((r=>u(r,n,t)))}return n("resolve",{Node:u,"Node, Map | null | undefined":u,"Node, Object":(r,n)=>u(r,(0,t.pI)(n)),"Array | Matrix":n.referToSelf((r=>n=>n.map((n=>r(n))))),"Array | Matrix, null | undefined":n.referToSelf((r=>n=>n.map((n=>r(n))))),"Array, Object":n.referTo("Array,Map",(r=>(n,e)=>r(n,(0,t.pI)(e)))),"Matrix, Object":n.referTo("Matrix,Map",(r=>(n,e)=>r(n,(0,t.pI)(e)))),"Array | Matrix, Map":n.referToSelf((r=>(n,e)=>n.map((n=>r(n,e)))))})}))},44170:(r,n,e)=>{e.d(n,{U:()=>f});var t=e(14943);function a(r){return(0,t.BA)(r)||(0,t.$$)(r)&&r.isUnary()&&(0,t.BA)(r.args[0])}function i(r){return!!(0,t.BA)(r)||(!(!(0,t.Px)(r)&&!(0,t.$$)(r)||!r.args.every(i))||!(!(0,t.tv)(r)||!i(r.content)))}var o=e(58321),s=e(74929),l=e(93140),u=e(86905),c=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],f=(0,o.P9)("simplify",c,(r=>{var{typed:n,parse:e,equal:o,resolve:c,simplifyConstant:f,simplifyCore:d,AccessorNode:p,ArrayNode:v,ConstantNode:m,FunctionNode:g,IndexNode:h,ObjectNode:y,OperatorNode:w,ParenthesisNode:b,SymbolNode:x,replacer:N}=r,{hasProperty:S,isCommutative:M,isAssociative:A,mergeContext:_,flatten:O,unflattenr:C,unflattenl:z,createMakeNodeFunction:P,defaultContext:q,realContext:E,positiveContext:j}=(0,s.Z)({FunctionNode:g,OperatorNode:w,SymbolNode:x});n.addConversion({from:"Object",to:"Map",convert:u.pI});var k=n("simplify",{Node:U,"Node, Map":(r,n)=>U(r,!1,n),"Node, Map, Object":(r,n,e)=>U(r,!1,n,e),"Node, Array":U,"Node, Array, Map":U,"Node, Array, Map, Object":U});function F(r){return r.transform((function(r){return(0,t.tv)(r)?F(r.content):r}))}n.removeConversion({from:"Object",to:"Map",convert:u.pI}),k.defaultContext=q,k.realContext=E,k.positiveContext=j;var B={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function D(r,n){var t={};if(r.s){var a=r.s.split("->");if(2!==a.length)throw SyntaxError("Could not parse rule: "+r.s);t.l=a[0],t.r=a[1]}else t.l=r.l,t.r=r.r;for(var i of(t.l=F(e(t.l)),t.r=F(e(t.r)),["imposeContext","repeat","assuming"]))i in r&&(t[i]=r[i]);if(r.evaluate&&(t.evaluate=e(r.evaluate)),A(t.l,n)){var o,s=!M(t.l,n);s&&(o=R());var l=P(t.l),u=R();t.expanded={},t.expanded.l=l([t.l,u]),O(t.expanded.l,n),C(t.expanded.l,n),t.expanded.r=l([t.r,u]),s&&(t.expandedNC1={},t.expandedNC1.l=l([o,t.l]),t.expandedNC1.r=l([o,t.r]),t.expandedNC2={},t.expandedNC2.l=l([o,t.expanded.l]),t.expandedNC2.r=l([o,t.expanded.r]))}return t}k.rules=[d,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},f,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},f,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var L=0;function R(){return new x("_p"+L++)}function U(r,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,u.A5)(),t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=t.consoleDebug;n=function(r,n){for(var e=[],t=0;t<r.length;t++){var a=r[t],i=void 0,o=typeof a;switch(o){case"string":a={s:a};case"object":i=D(a,n);break;case"function":i=a;break;default:throw TypeError("Unsupported type of rule: "+o)}e.push(i)}return e}(n||k.rules,t.context);for(var i=c(r,e),o={},s=(i=F(i)).toString({parenthesis:"all"});!o[s];){o[s]=!0,L=0;var l=s;a&&console.log("Working on: ",s);for(var f=0;f<n.length;f++){var d="";if("function"==typeof n[f]?(i=n[f](i,t),a&&(d=n[f].name)):(O(i,t.context),i=T(i,n[f],t.context),a&&(d="".concat(n[f].l.toString()," -> ").concat(n[f].r.toString()))),a){var p=i.toString({parenthesis:"all"});p!==l&&(console.log("Applying",d,"produced",p),l=p)}z(i,t.context)}s=i.toString({parenthesis:"all"})}return i}function $(r,n,e){var t=r;if(r)for(var a=0;a<r.length;++a){var i=T(r[a],n,e);i!==r[a]&&(t===r&&(t=r.slice()),t[a]=i)}return t}function T(r,n,e){if(n.assuming)for(var t in n.assuming)for(var a in n.assuming[t])if(S(t,a,e)!==n.assuming[t][a])return r;var i=_(n.imposeContext,e),o=r;if(o instanceof w||o instanceof g){var s=$(o.args,n,e);s!==o.args&&((o=o.clone()).args=s)}else if(o instanceof b){if(o.content){var u=T(o.content,n,e);u!==o.content&&(o=new b(u))}}else if(o instanceof v){var c=$(o.items,n,e);c!==o.items&&(o=new v(c))}else if(o instanceof p){var f=o.object;o.object&&(f=T(o.object,n,e));var d=o.index;o.index&&(d=T(o.index,n,e)),f===o.object&&d===o.index||(o=new p(f,d))}else if(o instanceof h){var m=$(o.dimensions,n,e);m!==o.dimensions&&(o=new h(m))}else if(o instanceof y){var x=!1,N={};for(var M in o.properties)N[M]=T(o.properties[M],n,e),N[M]!==o.properties[M]&&(x=!0);x&&(o=new y(N))}var A=n.r,O=Z(n.l,o,i)[0];if(!O&&n.expanded&&(A=n.expanded.r,O=Z(n.expanded.l,o,i)[0]),!O&&n.expandedNC1&&(A=n.expandedNC1.r,(O=Z(n.expandedNC1.l,o,i)[0])||(A=n.expandedNC2.r,O=Z(n.expandedNC2.l,o,i)[0])),O){var C=o.implicit;o=A.clone(),C&&"implicit"in A&&(o.implicit=!0),o=o.transform((function(r){return r.isSymbolNode&&(0,l.mQ)(O.placeholders,r.name)?O.placeholders[r.name].clone():r}))}return n.repeat&&o!==r&&(o=T(o,n,e)),o}function I(r,n){var e={placeholders:{}};if(!r.placeholders&&!n.placeholders)return e;if(!r.placeholders)return n;if(!n.placeholders)return r;for(var t in r.placeholders)if((0,l.mQ)(r.placeholders,t)&&(e.placeholders[t]=r.placeholders[t],(0,l.mQ)(n.placeholders,t)&&!G(r.placeholders[t],n.placeholders[t])))return null;for(var a in n.placeholders)(0,l.mQ)(n.placeholders,a)&&(e.placeholders[a]=n.placeholders[a]);return e}function Q(r,n){var e,t=[];if(0===r.length||0===n.length)return t;for(var a=0;a<r.length;a++)for(var i=0;i<n.length;i++)(e=I(r[a],n[i]))&&t.push(e);return t}function Z(r,n,e,s){var l=[{placeholders:{}}];if(r instanceof w&&n instanceof w||r instanceof g&&n instanceof g){if(r instanceof w){if(r.op!==n.op||r.fn!==n.fn)return[]}else if(r instanceof g&&r.name!==n.name)return[];if(!(1===n.args.length&&1===r.args.length||!A(n,e)&&n.args.length===r.args.length||s)){if(n.args.length>=2&&2===r.args.length){for(var u=function(r,n){var e,t,a=[],i=P(r);if(M(r,n))for(var o=0;o<r.args.length;o++)(t=r.args.slice(0)).splice(o,1),e=1===t.length?t[0]:i(t),a.push(i([r.args[o],e]));else for(var s=1;s<r.args.length;s++){var l=r.args[0];s>1&&(l=i(r.args.slice(0,s))),e=1===(t=r.args.slice(s)).length?t[0]:i(t),a.push(i([l,e]))}return a}(n,e),c=[],f=0;f<u.length;f++){var d=Z(r,u[f],e,!0);c=c.concat(d)}return c}if(r.args.length>2)throw Error("Unexpected non-binary associative function: "+r.toString());return[]}for(var p=[],v=0;v<r.args.length;v++){var h=Z(r.args[v],n.args[v],e);if(0===h.length)break;p.push(h)}if(p.length!==r.args.length){if(!M(n,e)||1===r.args.length)return[];if(r.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var y=Z(r.args[0],n.args[1],e);if(0===y.length)return[];var b=Z(r.args[1],n.args[0],e);if(0===b.length)return[];p=[y,b]}l=function(r){if(0===r.length)return r;for(var n=r.reduce(Q),e=[],t={},a=0;a<n.length;a++){var i=JSON.stringify(n[a],N);t[i]||(t[i]=!0,e.push(n[a]))}return e}(p)}else if(r instanceof x){if(0===r.name.length)throw new Error("Symbol in rule has 0 length...!?");if(B[r.name]){if(r.name!==n.name)return[]}else switch(r.name[1]>="a"&&r.name[1]<="z"?r.name.substring(0,2):r.name[0]){case"n":case"_p":l[0].placeholders[r.name]=n;break;case"c":case"cl":if(!(0,t.BA)(n))return[];l[0].placeholders[r.name]=n;break;case"v":if((0,t.BA)(n))return[];l[0].placeholders[r.name]=n;break;case"vl":if(!(0,t.li)(n))return[];l[0].placeholders[r.name]=n;break;case"cd":if(!a(n))return[];l[0].placeholders[r.name]=n;break;case"vd":if(a(n))return[];l[0].placeholders[r.name]=n;break;case"ce":if(!i(n))return[];l[0].placeholders[r.name]=n;break;case"ve":if(i(n))return[];l[0].placeholders[r.name]=n;break;default:throw new Error("Invalid symbol in rule: "+r.name)}}else{if(!(r instanceof m))return[];if(!o(r.value,n.value))return[]}return l}function G(r,n){if(r instanceof m&&n instanceof m){if(!o(r.value,n.value))return!1}else if(r instanceof x&&n instanceof x){if(r.name!==n.name)return!1}else{if(!(r instanceof w&&n instanceof w||r instanceof g&&n instanceof g))return!1;if(r instanceof w){if(r.op!==n.op||r.fn!==n.fn)return!1}else if(r instanceof g&&r.name!==n.name)return!1;if(r.args.length!==n.args.length)return!1;for(var e=0;e<r.args.length;e++)if(!G(r.args[e],n.args[e]))return!1}return!0}return k}))},74929:(r,n,e)=>{e.d(n,{Z:()=>c});var t=e(54705),a=e(14943),i=e(58321),o=e(93140);function s(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function l(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(n){(0,t.A)(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r}var u=["FunctionNode","OperatorNode","SymbolNode"],c=(0,i.P9)("simplifyUtil",u,(r=>{var{FunctionNode:n,OperatorNode:e,SymbolNode:t}=r,i=!0,s=!1,u="defaultF",c={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:s,total:i,commutative:s,associative:s},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:s,total:i,commutative:s,associative:s},paren:{trivial:i,total:i,commutative:i,associative:s},defaultF:{trivial:s,total:i,commutative:s,associative:s}};function f(r,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,t=u;if("string"==typeof r?t=r:(0,a.$$)(r)?t=r.fn.toString():(0,a.Px)(r)?t=r.name:(0,a.tv)(r)&&(t="paren"),(0,o.mQ)(e,t)){var i=e[t];if((0,o.mQ)(i,n))return i[n];if((0,o.mQ)(c,t))return c[t][n]}if((0,o.mQ)(e,u)){var s=e[u];return(0,o.mQ)(s,n)?s[n]:c[u][n]}if((0,o.mQ)(c,t)){var l=c[t];if((0,o.mQ)(l,n))return l[n]}return c[u][n]}function d(r){return f(r,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:c)}function p(r,n){var e,t=[],i=function(r){for(var n=0;n<r.args.length;n++){var o=r.args[n];(0,a.$$)(o)&&e===o.op?i(o):t.push(o)}};return d(r,n)?(e=r.op,i(r),t):r.args}function v(r){return(0,a.$$)(r)?function(n){try{return new e(r.op,r.fn,n,r.implicit)}catch(r){return console.error(r),[]}}:function(e){return new n(new t(r.name),e)}}return{createMakeNodeFunction:v,hasProperty:f,isCommutative:function(r){return f(r,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:c)},isAssociative:d,mergeContext:function(r,n){var e=l({},r);for(var t in n)(0,o.mQ)(r,t)?e[t]=l(l({},n[t]),r[t]):e[t]=n[t];return e},flatten:function r(n,e){if(!n.args||0===n.args.length)return n;n.args=p(n,e);for(var t=0;t<n.args.length;t++)r(n.args[t],e)},allChildren:p,unflattenr:function r(n,e){if(n.args&&0!==n.args.length){for(var t=v(n),a=n.args.length,i=0;i<a;i++)r(n.args[i],e);if(a>2&&d(n,e)){for(var o=n.args.pop();n.args.length>0;)o=t([n.args.pop(),o]);n.args=o.args}}},unflattenl:function r(n,e){if(n.args&&0!==n.args.length){for(var t=v(n),a=n.args.length,i=0;i<a;i++)r(n.args[i],e);if(a>2&&d(n,e)){for(var o=n.args.shift();n.args.length>0;)o=t([o,n.args.shift()]);n.args=o.args}}},defaultContext:c,realContext:{divide:{total:s},log:{total:s}},positiveContext:{subtract:{total:s},abs:{trivial:i},log:{total:i}}}}))},92506:(r,n,e)=>{e.d(n,{E:()=>u});var t=e(14943),a=e(58321),i=e(51106),o=e(74929),s=e(76495),l=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],u=(0,a.P9)("simplifyConstant",l,(r=>{var{typed:n,config:e,mathWithTransform:a,matrix:l,fraction:u,bignumber:c,AccessorNode:f,ArrayNode:d,ConstantNode:p,FunctionNode:v,IndexNode:m,ObjectNode:g,OperatorNode:h,SymbolNode:y}=r,{isCommutative:w,isAssociative:b,allChildren:x,createMakeNodeFunction:N}=(0,o.Z)({FunctionNode:v,OperatorNode:h,SymbolNode:y}),S=n("simplifyConstant",{Node:r=>O(E(r,{})),"Node, Object":function(r,n){return O(E(r,n))}});function M(r){return(0,t.fU)(r)?r.valueOf():r instanceof Array?r.map(M):(0,t.OA)(r)?l(M(r.valueOf())):r}function A(r,n,e){try{return a[r].apply(null,n)}catch(t){return n=n.map(M),z(a[r].apply(null,n),e)}}var _=n({Fraction:function(r){var n=r=>"BigNumber"===e.number&&c?c(r):Number(r),t=r.s*r.n,a=t<0n?new h("-","unaryMinus",[new p(-n(t))]):new p(n(t));return 1n===r.d?a:new h("/","divide",[a,new p(n(r.d))])},number:function(r){return r<0?P(new p(-r)):new p(r)},BigNumber:function(r){return r<0?P(new p(-r)):new p(r)},bigint:function(r){return r<0n?P(new p(-r)):new p(r)},Complex:function(r){throw new Error("Cannot convert Complex number to Node")},string:function(r){return new p(r)},Matrix:function(r){return new d(r.valueOf().map((r=>_(r))))}});function O(r){return(0,t.Ll)(r)?r:_(r)}function C(r,n){if(n&&!1!==n.exactFractions&&isFinite(r)&&u){var e=u(r),t=n&&"number"==typeof n.fractionsLimit?n.fractionsLimit:1/0;if(e.valueOf()===r&&e.n<t&&e.d<t)return e}return r}var z=n({"string, Object":function(r,n){var t=(0,i.BC)(r,e);return"BigNumber"===t?(void 0===c&&(0,s.j9)(),c(r)):"bigint"===t?BigInt(r):"Fraction"===t?(void 0===u&&(0,s.Sw)(),u(r)):C(parseFloat(r),n)},"Fraction, Object":function(r,n){return r},"BigNumber, Object":function(r,n){return r},"number, Object":function(r,n){return C(r,n)},"bigint, Object":function(r,n){return r},"Complex, Object":function(r,n){return 0!==r.im?r:C(r.re,n)},"Matrix, Object":function(r,n){return l(C(r.valueOf()))},"Array, Object":function(r,n){return r.map(C)}});function P(r){return new h("-","unaryMinus",[r])}function q(r,n,e,a){var i=n.shift(),o=n.reduce(((n,i)=>{if(!(0,t.Ll)(i)){var o=n.pop();if((0,t.Ll)(o))return[o,i];try{return n.push(A(r,[o,i],a)),n}catch(r){n.push(o)}}n.push(O(n.pop()));var s=1===n.length?n[0]:e(n);return[e([s,O(i)])]}),[i]);return 1===o.length?o[0]:e([o[0],_(o[1])])}function E(r,n){switch(r.type){case"SymbolNode":return r;case"ConstantNode":switch(typeof r.value){case"number":case"bigint":return z(r.value,n);case"string":return r.value;default:if(!isNaN(r.value))return z(r.value,n)}return r;case"FunctionNode":if(a[r.name]&&a[r.name].rawArgs)return r;if(!["add","multiply"].includes(r.name)){var e=r.args.map((r=>E(r,n)));if(!e.some(t.Ll))try{return A(r.name,e,n)}catch(r){}if("size"===r.name&&1===e.length&&(0,t.gO)(e[0])){for(var i=[],o=e[0];(0,t.gO)(o);)i.push(o.items.length),o=o.items[0];return l(i)}return new v(r.name,e.map(O))}case"OperatorNode":var s,u,c=r.fn.toString(),h=N(r);if((0,t.$$)(r)&&r.isUnary())s=[E(r.args[0],n)],u=(0,t.Ll)(s[0])?h(s):A(c,s,n);else if(b(r,n.context))if(s=(s=x(r,n.context)).map((r=>E(r,n))),w(c,n.context)){for(var y=[],M=[],_=0;_<s.length;_++)(0,t.Ll)(s[_])?M.push(s[_]):y.push(s[_]);y.length>1?(u=q(c,y,h,n),M.unshift(u),u=q(c,M,h,n)):u=q(c,s,h,n)}else u=q(c,s,h,n);else u=q(c,s=r.args.map((r=>E(r,n))),h,n);return u;case"ParenthesisNode":return E(r.content,n);case"AccessorNode":return function(r,n,e){if(!(0,t.$I)(n))return new f(O(r),O(n));if((0,t.gO)(r)||(0,t.OA)(r)){for(var a=Array.from(n.dimensions);a.length>0;)if((0,t.BA)(a[0])&&"string"!=typeof a[0].value){var i=z(a.shift().value,e);(0,t.gO)(r)?r=r.items[i-1]:(r=r.valueOf()[i-1])instanceof Array&&(r=l(r))}else{if(!(a.length>1&&(0,t.BA)(a[1])&&"string"!=typeof a[1].value))break;var o=z(a[1].value,e),s=[],u=(0,t.gO)(r)?r.items:r.valueOf();for(var c of u)if((0,t.gO)(c))s.push(c.items[o-1]);else{if(!(0,t.OA)(r))break;s.push(c[o-1])}if(s.length!==u.length)break;r=(0,t.gO)(r)?new d(s):l(s),a.splice(1,1)}return a.length===n.dimensions.length?new f(O(r),n):a.length>0?(n=new m(a),new f(O(r),n)):r}if((0,t.GJ)(r)&&1===n.dimensions.length&&(0,t.BA)(n.dimensions[0])){var v=n.dimensions[0].value;return v in r.properties?r.properties[v]:new p}return new f(O(r),n)}(E(r.object,n),E(r.index,n),n);case"ArrayNode":var C=r.items.map((r=>E(r,n)));return C.some(t.Ll)?new d(C.map(O)):l(C);case"IndexNode":return new m(r.dimensions.map((r=>S(r,n))));case"ObjectNode":var P={};for(var j in r.properties)P[j]=S(r.properties[j],n);return new g(P);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(r.type))}}return S}))},42237:(r,n,e)=>{e.d(n,{x:()=>u});var t=e(14943),a=e(60261),i=e(74929),o=e(58321),s="simplifyCore",l=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],u=(0,o.P9)(s,l,(r=>{var{typed:n,parse:e,equal:o,isZero:l,add:u,subtract:c,multiply:f,divide:d,pow:p,AccessorNode:v,ArrayNode:m,ConstantNode:g,FunctionNode:h,IndexNode:y,ObjectNode:w,OperatorNode:b,ParenthesisNode:x,SymbolNode:N}=r,S=new g(0),M=new g(1),A=new g(!0),_=new g(!1);function O(r){return(0,t.$$)(r)&&["and","not","or"].includes(r.op)}var{hasProperty:C,isCommutative:z}=(0,i.Z)({FunctionNode:h,OperatorNode:b,SymbolNode:N});function P(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n?n.context:void 0;if(C(r,"trivial",e)){if((0,t.Px)(r)&&1===r.args.length)return P(r.args[0],n);var i=!1,s=0;if(r.forEach((r=>{1===++s&&(i=P(r,n))})),1===s)return i}var u=r;if((0,t.Px)(u)){var c=(0,a.F5)(u.name);if(!c)return new h(P(u.fn),u.args.map((r=>P(r,n))));if(u.args.length>2&&C(u,"associative",e))for(;u.args.length>2;){var f=u.args.pop(),d=u.args.pop();u.args.push(new b(c,u.name,[f,d]))}u=new b(c,u.name,u.args)}if((0,t.$$)(u)&&u.isUnary()){var p=P(u.args[0],n);if("~"===u.op&&(0,t.$$)(p)&&p.isUnary()&&"~"===p.op)return p.args[0];if("not"===u.op&&(0,t.$$)(p)&&p.isUnary()&&"not"===p.op&&O(p.args[0]))return p.args[0];var g=!0;if("-"===u.op&&(0,t.$$)(p)&&(p.isBinary()&&"subtract"===p.fn&&(u=new b("-","subtract",[p.args[1],p.args[0]]),g=!1),p.isUnary()&&"-"===p.op))return p.args[0];if(g)return new b(u.op,u.fn,[p])}if((0,t.$$)(u)&&u.isBinary()){var x=P(u.args[0],n),N=P(u.args[1],n);if("+"===u.op){if((0,t.BA)(x)&&l(x.value))return N;if((0,t.BA)(N)&&l(N.value))return x;(0,t.$$)(N)&&N.isUnary()&&"-"===N.op&&(N=N.args[0],u=new b("-","subtract",[x,N]))}if("-"===u.op)return(0,t.$$)(N)&&N.isUnary()&&"-"===N.op?P(new b("+","add",[x,N.args[0]]),n):(0,t.BA)(x)&&l(x.value)?P(new b("-","unaryMinus",[N])):(0,t.BA)(N)&&l(N.value)?x:new b(u.op,u.fn,[x,N]);if("*"===u.op){if((0,t.BA)(x)){if(l(x.value))return S;if(o(x.value,1))return N}if((0,t.BA)(N)){if(l(N.value))return S;if(o(N.value,1))return x;if(z(u,e))return new b(u.op,u.fn,[N,x],u.implicit)}return new b(u.op,u.fn,[x,N],u.implicit)}if("/"===u.op)return(0,t.BA)(x)&&l(x.value)?S:(0,t.BA)(N)&&o(N.value,1)?x:new b(u.op,u.fn,[x,N]);if("^"===u.op&&(0,t.BA)(N)){if(l(N.value))return M;if(o(N.value,1))return x}if("and"===u.op){if((0,t.BA)(x)){if(!x.value)return _;if(O(N))return N;if((0,t.BA)(N))return N.value?A:_}if((0,t.BA)(N)){if(!N.value)return _;if(O(x))return x}}if("or"===u.op){if((0,t.BA)(x)){if(x.value)return A;if(O(N))return N}if((0,t.BA)(N)){if(N.value)return A;if(O(x))return x}}return new b(u.op,u.fn,[x,N])}if((0,t.$$)(u))return new b(u.op,u.fn,u.args.map((r=>P(r,n))));if((0,t.gO)(u))return new m(u.items.map((r=>P(r,n))));if((0,t.AS)(u))return new v(P(u.object,n),P(u.index,n));if((0,t.$I)(u))return new y(u.dimensions.map((r=>P(r,n))));if((0,t.GJ)(u)){var q={};for(var E in u.properties)q[E]=P(u.properties[E],n);return new w(q)}return u}return n(s,{Node:P,"Node,Object":P})}))},86886:(r,n,e)=>{e.d(n,{i:()=>s});var t=e(58321),a=e(96267),i="lsolve",o=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],s=(0,t.P9)(i,o,(r=>{var{typed:n,matrix:e,divideScalar:t,multiplyScalar:o,subtractScalar:s,equalScalar:l,DenseMatrix:u}=r,c=(0,a.B)({DenseMatrix:u});return n(i,{"SparseMatrix, Array | Matrix":function(r,n){return function(r,n){for(var e=(n=c(r,n,!0))._data,a=r._size[0],i=r._size[1],f=r._values,d=r._index,p=r._ptr,v=[],m=0;m<i;m++){var g=e[m][0]||0;if(l(g,0))v[m]=[0];else{for(var h=0,y=[],w=[],b=p[m],x=p[m+1],N=b;N<x;N++){var S=d[N];S===m?h=f[N]:S>m&&(y.push(f[N]),w.push(S))}if(l(h,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var M=t(g,h),A=0,_=w.length;A<_;A++){var O=w[A];e[O]=[s(e[O][0]||0,o(M,y[A]))]}v[m]=[M]}}return new u({data:v,size:[a,1]})}(r,n)},"DenseMatrix, Array | Matrix":function(r,n){return f(r,n)},"Array, Array | Matrix":function(r,n){return f(e(r),n).valueOf()}});function f(r,n){for(var e=(n=c(r,n,!0))._data,a=r._size[0],i=r._size[1],f=[],d=r._data,p=0;p<i;p++){var v=e[p][0]||0,m=void 0;if(l(v,0))m=0;else{var g=d[p][p];if(l(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=t(v,g);for(var h=p+1;h<a;h++)e[h]=[s(e[h][0]||0,o(m,d[h][p]))]}f[p]=[m]}return new u({data:f,size:[a,1]})}}))},93587:(r,n,e)=>{e.d(n,{H:()=>s});var t=e(58321),a=e(96267),i="lsolveAll",o=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],s=(0,t.P9)(i,o,(r=>{var{typed:n,matrix:e,divideScalar:t,multiplyScalar:o,subtractScalar:s,equalScalar:l,DenseMatrix:u}=r,c=(0,a.B)({DenseMatrix:u});return n(i,{"SparseMatrix, Array | Matrix":function(r,n){return function(r,n){for(var e=[c(r,n,!0)._data.map((r=>r[0]))],a=r._size[0],i=r._size[1],f=r._values,d=r._index,p=r._ptr,v=0;v<i;v++)for(var m=e.length,g=0;g<m;g++){for(var h=e[g],y=[],w=[],b=p[v],x=p[v+1],N=0,S=b;S<x;S++){var M=d[S];M===v?N=f[S]:M>v&&(y.push(f[S]),w.push(M))}if(l(N,0))if(l(h[v],0)){if(0===g){var A=[...h];A[v]=1;for(var _=0,O=w.length;_<O;_++){var C=w[_];A[C]=s(A[C],y[_])}e.push(A)}}else{if(0===g)return[];e.splice(g,1),g-=1,m-=1}else{h[v]=t(h[v],N);for(var z=0,P=w.length;z<P;z++){var q=w[z];h[q]=s(h[q],o(h[v],y[z]))}}}return e.map((r=>new u({data:r.map((r=>[r])),size:[a,1]})))}(r,n)},"DenseMatrix, Array | Matrix":function(r,n){return f(r,n)},"Array, Array | Matrix":function(r,n){return f(e(r),n).map((r=>r.valueOf()))}});function f(r,n){for(var e=[c(r,n,!0)._data.map((r=>r[0]))],a=r._data,i=r._size[0],f=r._size[1],d=0;d<f;d++)for(var p=e.length,v=0;v<p;v++){var m=e[v];if(l(a[d][d],0))if(l(m[d],0)){if(0===v){var g=[...m];g[d]=1;for(var h=d+1;h<f;h++)g[h]=s(g[h],a[h][d]);e.push(g)}}else{if(0===v)return[];e.splice(v,1),v-=1,p-=1}else{m[d]=t(m[d],a[d][d]);for(var y=d+1;y<f;y++)m[y]=s(m[y],o(m[d],a[y][d]))}}return e.map((r=>new u({data:r.map((r=>[r])),size:[i,1]})))}}))},98503:(r,n,e)=>{e.d(n,{b:()=>u});var t=e(14943),a=e(58321),i=e(96267);function o(r,n){var e,t=n.length,a=[];if(r)for(e=0;e<t;e++)a[r[e]]=n[e];else for(e=0;e<t;e++)a[e]=n[e];return a}var s="lusolve",l=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],u=(0,a.P9)(s,l,(r=>{var{typed:n,matrix:e,lup:a,slu:l,usolve:u,lsolve:c,DenseMatrix:f}=r,d=(0,i.B)({DenseMatrix:f});return n(s,{"Array, Array | Matrix":function(r,n){r=e(r);var t=a(r);return v(t.L,t.U,t.p,null,n).valueOf()},"DenseMatrix, Array | Matrix":function(r,n){var e=a(r);return v(e.L,e.U,e.p,null,n)},"SparseMatrix, Array | Matrix":function(r,n){var e=a(r);return v(e.L,e.U,e.p,null,n)},"SparseMatrix, Array | Matrix, number, number":function(r,n,e,t){var a=l(r,e,t);return v(a.L,a.U,a.p,a.q,n)},"Object, Array | Matrix":function(r,n){return v(r.L,r.U,r.p,r.q,n)}});function p(r){if((0,t.OA)(r))return r;if((0,t.cy)(r))return e(r);throw new TypeError("Invalid Matrix LU decomposition")}function v(r,n,e,t,a){r=p(r),n=p(n),e&&((a=d(r,a,!0))._data=o(e,a._data));var i=c(r,a),s=u(n,i);return t&&(s._data=o(t,s._data)),s}}))},76431:(r,n,e)=>{e.d(n,{p:()=>s});var t=e(58321),a=e(96267),i="usolve",o=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],s=(0,t.P9)(i,o,(r=>{var{typed:n,matrix:e,divideScalar:t,multiplyScalar:o,subtractScalar:s,equalScalar:l,DenseMatrix:u}=r,c=(0,a.B)({DenseMatrix:u});return n(i,{"SparseMatrix, Array | Matrix":function(r,n){return function(r,n){for(var e=(n=c(r,n,!0))._data,a=r._size[0],i=r._size[1],f=r._values,d=r._index,p=r._ptr,v=[],m=i-1;m>=0;m--){var g=e[m][0]||0;if(l(g,0))v[m]=[0];else{for(var h=0,y=[],w=[],b=p[m],x=p[m+1]-1;x>=b;x--){var N=d[x];N===m?h=f[x]:N<m&&(y.push(f[x]),w.push(N))}if(l(h,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var S=t(g,h),M=0,A=w.length;M<A;M++){var _=w[M];e[_]=[s(e[_][0],o(S,y[M]))]}v[m]=[S]}}return new u({data:v,size:[a,1]})}(r,n)},"DenseMatrix, Array | Matrix":function(r,n){return f(r,n)},"Array, Array | Matrix":function(r,n){return f(e(r),n).valueOf()}});function f(r,n){for(var e=(n=c(r,n,!0))._data,a=r._size[0],i=r._size[1],f=[],d=r._data,p=i-1;p>=0;p--){var v=e[p][0]||0,m=void 0;if(l(v,0))m=0;else{var g=d[p][p];if(l(g,0))throw new Error("Linear system cannot be solved since matrix is singular");m=t(v,g);for(var h=p-1;h>=0;h--)e[h]=[s(e[h][0]||0,o(m,d[h][p]))]}f[p]=[m]}return new u({data:f,size:[a,1]})}}))},54032:(r,n,e)=>{e.d(n,{m:()=>s});var t=e(58321),a=e(96267),i="usolveAll",o=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],s=(0,t.P9)(i,o,(r=>{var{typed:n,matrix:e,divideScalar:t,multiplyScalar:o,subtractScalar:s,equalScalar:l,DenseMatrix:u}=r,c=(0,a.B)({DenseMatrix:u});return n(i,{"SparseMatrix, Array | Matrix":function(r,n){return function(r,n){for(var e=[c(r,n,!0)._data.map((r=>r[0]))],a=r._size[0],i=r._size[1],f=r._values,d=r._index,p=r._ptr,v=i-1;v>=0;v--)for(var m=e.length,g=0;g<m;g++){for(var h=e[g],y=[],w=[],b=p[v],x=0,N=p[v+1]-1;N>=b;N--){var S=d[N];S===v?x=f[N]:S<v&&(y.push(f[N]),w.push(S))}if(l(x,0))if(l(h[v],0)){if(0===g){var M=[...h];M[v]=1;for(var A=0,_=w.length;A<_;A++){var O=w[A];M[O]=s(M[O],y[A])}e.push(M)}}else{if(0===g)return[];e.splice(g,1),g-=1,m-=1}else{h[v]=t(h[v],x);for(var C=0,z=w.length;C<z;C++){var P=w[C];h[P]=s(h[P],o(h[v],y[C]))}}}return e.map((r=>new u({data:r.map((r=>[r])),size:[a,1]})))}(r,n)},"DenseMatrix, Array | Matrix":function(r,n){return f(r,n)},"Array, Array | Matrix":function(r,n){return f(e(r),n).map((r=>r.valueOf()))}});function f(r,n){for(var e=[c(r,n,!0)._data.map((r=>r[0]))],a=r._data,i=r._size[0],f=r._size[1]-1;f>=0;f--)for(var d=e.length,p=0;p<d;p++){var v=e[p];if(l(a[f][f],0))if(l(v[f],0)){if(0===p){var m=[...v];m[f]=1;for(var g=f-1;g>=0;g--)m[g]=s(m[g],a[g][f]);e.push(m)}}else{if(0===p)return[];e.splice(p,1),p-=1,d-=1}else{v[f]=t(v[f],a[f][f]);for(var h=f-1;h>=0;h--)v[h]=s(v[h],o(v[f],a[h][f]))}}return e.map((r=>new u({data:r.map((r=>[r])),size:[i,1]})))}}))},96267:(r,n,e)=>{e.d(n,{B:()=>o});var t=e(14943),a=e(35838),i=e(70760);function o(r){var{DenseMatrix:n}=r;return function(r,e,o){var s=r.size();if(2!==s.length)throw new RangeError("Matrix must be two dimensional (size: "+(0,i.GP)(s)+")");var l=s[0];if(l!==s[1])throw new RangeError("Matrix must be square (size: "+(0,i.GP)(s)+")");var u=[];if((0,t.OA)(e)){var c=e.size(),f=e._data;if(1===c.length){if(c[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<l;d++)u[d]=[f[d]];return new n({data:u,size:[l,1],datatype:e._datatype})}if(2===c.length){if(c[0]!==l||1!==c[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if((0,t.zR)(e)){if(o){u=[];for(var p=0;p<l;p++)u[p]=[f[p][0]];return new n({data:u,size:[l,1],datatype:e._datatype})}return e}if((0,t.AF)(e)){for(var v=0;v<l;v++)u[v]=[0];for(var m=e._values,g=e._index,h=e._ptr,y=h[1],w=h[0];w<y;w++){u[g[w]][0]=m[w]}return new n({data:u,size:[l,1],datatype:e._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if((0,t.cy)(e)){var b=(0,a.LO)(e);if(1===b.length){if(b[0]!==l)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<l;x++)u[x]=[e[x]];return new n({data:u,size:[l,1]})}if(2===b.length){if(b[0]!==l||1!==b[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var N=0;N<l;N++)u[N]=[e[N][0]];return new n({data:u,size:[l,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}},18528:(r,n,e)=>{e.d(n,{_:()=>o});var t=e(58321),a="sylvester",i=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],o=(0,t.P9)(a,i,(r=>{var{typed:n,schur:e,matrixFromColumns:t,matrix:i,multiply:o,range:s,concat:l,transpose:u,index:c,subset:f,add:d,subtract:p,identity:v,lusolve:m,abs:g}=r;return n(a,{"Matrix, Matrix, Matrix":h,"Array, Matrix, Matrix":function(r,n,e){return h(i(r),n,e)},"Array, Array, Matrix":function(r,n,e){return h(i(r),i(n),e)},"Array, Matrix, Array":function(r,n,e){return h(i(r),n,i(e))},"Matrix, Array, Matrix":function(r,n,e){return h(r,i(n),e)},"Matrix, Array, Array":function(r,n,e){return h(r,i(n),i(e))},"Matrix, Matrix, Array":function(r,n,e){return h(r,n,i(e))},"Array, Array, Array":function(r,n,e){return h(i(r),i(n),i(e)).toArray()}});function h(r,n,a){for(var h=n.size()[0],y=r.size()[0],w=e(r),b=w.T,x=w.U,N=e(o(-1,n)),S=N.T,M=N.U,A=o(o(u(x),a),M),_=s(0,y),O=[],C=(r,n)=>l(r,n,1),z=(r,n)=>l(r,n,0),P=0;P<h;P++)if(P<h-1&&g(f(S,c(P+1,P)))>1e-5){for(var q=z(f(A,c(_,P)),f(A,c(_,P+1))),E=0;E<P;E++)q=d(q,z(o(O[E],f(S,c(E,P))),o(O[E],f(S,c(E,P+1)))));var j=o(v(y),o(-1,f(S,c(P,P)))),k=o(v(y),o(-1,f(S,c(P+1,P)))),F=o(v(y),o(-1,f(S,c(P,P+1)))),B=o(v(y),o(-1,f(S,c(P+1,P+1)))),D=z(C(d(b,j),k),C(F,d(b,B))),L=m(D,q);O[P]=L.subset(c(s(0,y),0)),O[P+1]=L.subset(c(s(y,2*y),0)),P++}else{for(var R=f(A,c(_,P)),U=0;U<P;U++)R=d(R,o(O[U],f(S,c(U,P))));var $=f(S,c(P,P)),T=p(b,o($,v(y)));O[P]=m(T,R)}var I=i(t(...O));return o(x,o(I,u(M)))}}))},65945:(r,n,e)=>{e.d(n,{N:()=>s});var t=e(14943),a=e(58321),i="symbolicEqual",o=["parse","simplify","typed","OperatorNode"],s=(0,a.P9)(i,o,(r=>{var{parse:n,simplify:e,typed:a,OperatorNode:o}=r;function s(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new o("-","subtract",[r,n]),s=e(i,{},a);return(0,t.BA)(s)&&!s.value}return a(i,{"Node, Node":s,"Node, Node, Object":s})}))}}]);